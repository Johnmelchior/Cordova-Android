lpTag.callback({"serviceMap":[{"account":"48464979","baseURI":"va.ams.liveperson.net","service":"asyncMessaging"},{"account":"48464979","baseURI":"va.pushsrv.int.liveperson.net","service":"pusherInt"},{"account":"48464979","baseURI":"dispatch.look.io","service":"mobileVisit"},{"account":"48464979","baseURI":"va.le-billing.liveperson.net","service":"leBilling"},{"account":"48464979","baseURI":"va.push.liveperson.net","service":"pusher"},{"account":"48464979","baseURI":"va.pd.liveperson.net","service":"predictiveDialer"},{"account":"48464979","baseURI":"keyservice.liveperson.net","service":"keyService"},{"account":"48464979","baseURI":"va.data.liveperson.net","service":"leDataReporting"},{"account":"48464979","baseURI":"server.iad.liveperson.net","service":"ALL"},{"account":"48464979","baseURI":"z1.le.liveperson.net","service":"liveEngage"},{"account":"48464979","baseURI":"tokenizer.liveperson.net","service":"tokenizer"},{"account":"48464979","baseURI":"server.iad.liveperson.net","service":"openPlatform"},{"account":"48464979","baseURI":"dispatch.look.io","service":"mobileChat"},{"account":"48464979","baseURI":"z1.houston.int.liveperson.net","service":"leBackofficeInt"},{"account":"48464979","baseURI":"va.vm.liveperson.net","service":"visitManager"},{"account":"48464979","baseURI":"va.nlp.liveperson.net","service":"nlp"},{"account":"48464979","baseURI":"va.batchelor.liveperson.net","service":"liveEngageVep"},{"account":"48464979","baseURI":"va.content.lpsnmedia.net","service":"staticContent"},{"account":"48464979","baseURI":"va.cobrowse.liveperson.net","service":"coBrowse"},{"account":"48464979","baseURI":"va.enghist.liveperson.net","service":"engHistDomain"},{"account":"48464979","baseURI":"va.ac.liveperson.net","service":"accountConfigReadWrite"},{"account":"48464979","baseURI":"va.octopus.liveperson.net","service":"leIntegration"},{"account":"48464979","baseURI":"va.knowledge.liveperson.net","service":"connectionPanel"},{"account":"48464979","baseURI":"va.le1.liveperson.net","service":"liveEngageUI"},{"account":"48464979","baseURI":"server.iad.liveperson.net","service":"adminArea"},{"account":"48464979","baseURI":"va.v-feed.liveperson.net","service":"visitorFeed"},{"account":"48464979","baseURI":"va.batchelor.liveperson.net","service":"conversationVep"},{"account":"48464979","baseURI":"z1.acr.liveperson.net","service":"accountConfigReadOnly"},{"account":"48464979","baseURI":"z1.lpEng.liveperson.net","service":"lpEng"},{"account":"48464979","baseURI":"va.v.liveperson.net","service":"smt"},{"account":"48464979","baseURI":"server.iad.liveperson.net","service":"mTag"},{"account":"48464979","baseURI":"z1.etool.liveperson.net","service":"etool"},{"account":"48464979","baseURI":"va.batchelor.liveperson.net","service":"agentVep"},{"account":"48464979","baseURI":"z1.acc-create.liveperson.net","service":"accountCreation"},{"account":"48464979","baseURI":"lpcdn.lpsnmedia.net","service":"leCdnDomain"},{"account":"48464979","baseURI":"va.msg.liveperson.net","service":"asyncMessagingEnt"},{"account":"48464979","baseURI":"va.i.liveperson.net","service":"interactionPlatform"},{"account":"48464979","baseURI":"z1.coapp.liveperson.net","service":"coApp"},{"account":"48464979","baseURI":"z1.appkey-mgmnt.liveperson.net","service":"appKeyManagement"},{"account":"48464979","baseURI":"z1.bi.liveperson.net","service":"leBiMstr"},{"account":"48464979","baseURI":"va.idp.liveperson.net","service":"idp"},{"account":"48464979","baseURI":"z1.loggos.liveperson.net","service":"loggos"},{"account":"48464979","baseURI":"z1.liveper.sn","service":"redirect"},{"account":"48464979","baseURI":"server.iad.liveperson.net","service":"agent"},{"account":"48464979","baseURI":"z1.batchelor.liveperson.net","service":"batchelor"},{"account":"48464979","baseURI":"accdn.lpsnmedia.net","service":"acCdnDomain"}],"taglets":[{"code":"window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpActivityMonitor=lpTag.taglets.lpActivityMonitor||function(){function init(e){lpTag.sdes=lpTag.sdes||[];_handleCfg(e);_defer(_register)}function start(){_debug(\"Starting activity tracking\");active=!0;intervalId=setTimeout(_pushEvent,conf.timeout)}function stop(){_debug(\"Called Stop\");if(intervalId){clearTimeout(intervalId);active=!1;_info(\"Stopped activity tracking\")}_unregister()}function push(e){_debug(\"Called push with type=\"+e);e&&\"number\"==typeof e?lpTag.sdes.push({type:conf.sdeType,input:e}):_log(\"Did not push sde since type is not a number type=\"+e,\"ERROR\")}function reinit(e){_debug(\"Called Reinit\");reset();_handleCfg(e);_register()}function reset(){lastActivityTime=0;lastInputType=inputType.UNDEFINED}function isActive(){return active}function _log(e,t){window.lpTag&&lpTag.log&&lpTag.log(e,t,name)}function _debug(e){_log(e,\"DEBUG\")}function _info(e){_log(e,\"INFO\")}function _clone(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}function _defer(e){return setTimeout(e,0)}function _handleCfg(cfg){if(cfg)for(var i=0;i<cfg.length;i++){var val=cfg[i].value;\"string\"==typeof val&&\"\"!==val&&(\"[\"===val.charAt(0)||\"{\"===val.charAt(0))&&(val=\"undefined\"!=typeof JSON&&JSON.parse?JSON.parse(val):eval(\"(\"+val+\")\"));conf[cfg[i].id]=val}else _info(\"No cfg were given on init\")}function _bindEvent(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent(\"on\"+t,n)}function _unbindEvent(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent(\"on\"+t,n)}function _handleEvent(e){handlerTimeoutId&&clearTimeout(handlerTimeoutId);var t=e.type;handlerTimeoutId=_defer(function(){if(eventTypes[t]){lastInputType=eventTypes[t].input;lastActivityTime=(new Date).getTime()}})}function _register(){if(!boundToEvents)for(var e in eventTypes)eventTypes.hasOwnProperty(e)&&_bindEvent(eventTypes[e].elem,e,_handleEvent);boundToEvents=!0}function _unregister(){if(boundToEvents)for(var e in eventTypes)eventTypes.hasOwnProperty(e)&&_unbindEvent(eventTypes[e].elem,e,_handleEvent);boundToEvents=!1}function _pushEvent(){var e=(new Date).getTime()-lastActivityTime;if(0!==lastActivityTime&&e<=conf.timeout){lpTag.events.trigger(name,\"ACTIVITY_MONITORED\",{inputType:lastInputType,time:lastActivityTime});push(lastInputType)}intervalId&&clearTimeout(intervalId);intervalId=setTimeout(_pushEvent,conf.timeout)}var v=\"2.20.1\",name=\"lpActivityMonitor\",intervalId,handlerTimeoutId,active=!1,inputType={UNDEFINED:0,MOUSE:1,KEYBOARD:2,TOUCH:3,FOCUS:4},lastActivityTime=0,lastInputType=inputType.UNDEFINED,conf={timeout:6e4,sdeType:\"tabActive\"},boundToEvents=!1,eventTypes={click:{elem:document,input:inputType.MOUSE},mousemove:{elem:document,input:inputType.MOUSE},wheel:{elem:document,input:inputType.MOUSE},scroll:{elem:window,input:inputType.MOUSE},keydown:{elem:document,input:inputType.KEYBOARD},touchmove:{elem:document,input:inputType.TOUCH},focus:{elem:window,input:inputType.FOCUS}};return{v:v,name:name,init:init,start:start,reinit:reinit,restart:start,stop:stop,push:push,reset:reset,isActive:isActive,inputType:inputType,inspect:function(){return{conf:_clone(conf),lastActivityTime:lastActivityTime,lastInputType:lastInputType,intervalId:intervalId}}}}();","name":"lpActivityMonitor"},{"code":"window.lpTag=window.lpTag||{};window.lpTag.taglets=window.lpTag.taglets||{};window.lpTag.taglets.rendererStub=window.lpTag.taglets.rendererStub||function(){function e(){lpTag.log(\"rendererStub init called\",\"DEBUG\",\"LP_OFFER\");_()&&L()}function n(e){e=e||{};o(e)}function t(e){var n={};if(U.ids[e]&&U.ids[e].engData){n=JSON.parse(S(U.ids[e].engData));n.engagementId=e}return n}function a(e){var n={engagementId:e,state:0,desc:\"NA\"};if(U.ids[e]&&U.ids[e].engData&&\"undefined\"!=typeof U.ids[e].engData.state&&\"undefined\"!=typeof C[U.ids[e].engData.state]){n.state=U.ids[e].engData.state;n.desc=C[n.state]}return n}function g(e){var n=!1;if(U.ids[e]&&\"function\"==typeof U.ids[e].offerClick){n=!0;U.ids[e].offerClick()}return n}function i(e,n){var t;if(e&&n&&n.length)for(var a=0;a<n.length;a++){t=n[a];e[t]=null;delete e[t]}}function o(e){var n,t=[],a=e.idsToKeep||{},g=e.divIdsToKeep||{};for(var o in g)if(g.hasOwnProperty(o)&&U.divIds.hasOwnProperty(o)){n=U.divIds[o];a[n]=!0}for(var r in U.ids)if(U.ids.hasOwnProperty(r)&&!a[r]){try{U.ids[r].cleanupOffer()}catch(l){lpTag.log(\"Failed to remove engagement, might have been removed already. ex=\"+l.message,\"DEBUG\",\"LP_OFFER\")}t.push(r)}i(U.ids,t)}function r(e){var n=e.engagementId;if(n&&U.ids[n]){U.ids[n]=null;delete U.ids[n]}}function l(e){if(\"object\"==typeof e){lpTag.log(\"rendererStub received new smt msg. {id:\"+e.engagementId+\" ,type:\"+e.engagementType+\",revision:\"+e.engagementRevision+\",campaignId \"+e.campaignId+\"}\",\"DEBUG\",\"LP_OFFER\");if(\"undefined\"!=typeof e.controlGroup&&e.controlGroup)c(e);else{I(e);if(e.customTaglet){u(e);p(e,[\"baseOffer\"])}else p(e,[e.tglName,\"UISuite\"]);v(e)}}}function s(e){e.tglName=\"offsite\";p(e,e.tglName)}function d(e){e.forceOffline=!0;s(e)}function f(e){lpTag.log(\"rendererStub received hide engagements event.\",\"DEBUG\",\"LP_OFFER\");e&&\"chatting\"===e.state&&lpTag.events.trigger(\"LP_OFFERS\",\"HIDE\")}function c(e){lpTag.log(\"rendererStub::controlGroup is true for campaignID: \"+e.campaignId+\" - engagementId: \"+e.engagementId,\"DEBUG\",\"LP_OFFER\");var n=[{type:\"impDisplay\",campaign:e.campaignId,engId:e.engagementId,revision:e.engagementRevision,eContext:[{type:\"engagementContext\",id:e.contextId}]}];lpTag.sdes.send(n,function(){lpTag.log(\"rendererStub:::impression event send for \"+e.campaignId+\" - engagementId: \"+e.engagementId,\"DEBUG\",\"LP_OFFER\")});lpTag.events.trigger(\"LP_OFFERS\",\"CONTROL_GROUP\",e)}function p(e,n){lpTag.log(\"_loadTaglet called with url: \"+JSON.stringify(e),\"DEBUG\",\"LP_OFFER\");if(lpTag.taglets[e.tglName])E(e);else{var t={},a=lpTag.protocol+\"//\"+lpTag.csds.getDomain(b.LPCDN)+\"/le_re/jsv2/\";n=Array.isArray(n)?n:[n];for(var g=0;g<n.length;g++)\"string\"==typeof n[g]&&(t[n[g]]=a+n[g]+\".js?_v=\"+w);lpTag.taglets.jsLoader.loadJS({loadObj:t,success:m(e),error:T(e)})}}function u(e){lpTag.log(\"_loadCustomTaglet called with url: \"+JSON.stringify(e),\"DEBUG\",\"LP_OFFER\");lpTag.taglets[e.tglName]?E(e):\"function\"==typeof lpTag.loadTaglet&&lpTag.loadTaglet({name:e.tglName,success:m(e),error:T(e)})}function m(e){return function(){lpTag.log(\"_loadTagletSuccess taglet not exist, isReady: \"+y(e),\"DEBUG\",\"LP_OFFER\");B[e.tglName]=!0;E(e)}}function T(e){return function(n){lpTag.log(\"Loading taglet: \"+e.tglName+\" failed. Error: \"+JSON.stringify(n),\"ERROR\",\"LP_OFFER\")}}function v(e){var n=lpTag.protocol+\"//\"+lpTag.csds.getDomain(b.ACCDN)+\"/api/account/\"+lpTag.site+\"/configuration/le-campaigns/campaigns/\"+e.campaignId+\"/engagements/\"+e.engagementId+\"/revision/\"+e.engagementRevision;lpTag.log(\"_loadEngagementConfig called with url: \"+n+\" msg: \"+JSON.stringify(e),\"DEBUG\",\"LP_OFFER\");h[e.confKey]?E(e):lpTag.taglets.jsonp.issueCall({url:n,data:{flavor:\"dependency\"},callbackName:\"lp\"+e.engagementId,success:function(n){lpTag.log(\"Engagement \"+e.engagementId+\" loaded\",\"DEBUG\",\"LP_OFFER\");h[e.confKey]=n;lpTag.log(\"_loadEngagementConfig conf not exist, isReady: \"+y(e),\"DEBUG\",\"LP_OFFER\");E(e)},error:function(){lpTag.log(\"Loading engagement: \"+e.engagementId+\"   failed.  id : \",\"ERROR\",\"LP_OFFER\")}})}function y(e){return!(!lpTag.taglets[e.tglName]||!B[e.tglName]||e.instantiated||!h[e.confKey]&&\"offsite\"!==e.tglName)}function E(e){lpTag.log(\"_execTaglet, is ready:\"+y(e)+\" msg: \"+JSON.stringify(e),\"DEBUG\",\"LP_OFFER\");if(y(e)){lpTag.log(\"taglet \"+e.tglName+\" executed by rendererStub at: \"+(new Date).getTime()+\"(number of milliseconds since 1970/01/01)\",\"DEBUG\",\"LP_OFFER\");e.instantiated=!0;var n=O(e);n&&R(e)}}function O(e){var n=!0;e.engagementId&&U.ids[e.engagementId]&&(n=F(e,e.engagementId,U.ids));return n}function F(e,n,t){var a,g=!0;if(e.confKey!==t[n].engData.confKey||e.state!==t[n].activeState.type){a=t[n];a.cleanupOffer();i(t,[n])}else{t[n].setContextId(e.contextId);g=!1}return g}function R(e){var n,t;if(e.customTaglet){t=new lpTag.taglets.baseOffer;t.init(D(e),D(h[e.confKey]))}try{n=lpTag.taglets[e.tglName].createInstance(D(e),D(h[e.confKey]),t)}catch(a){lpTag.log(\"Failed to create engagement instance. ex=\"+a.message,\"ERROR\",\"LP_OFFER\")}if(n&&\"function\"==typeof n.cleanupOffer){U.ids[e.engagementId]=n;n.parentContainer&&(U.divIds[n.parentContainer]=e.engagementId)}}function I(e){e.confKey=e.campaignId+\"_\"+e.engagementId+\"_\"+e.engagementRevision;e.customTaglet=N(e);var n=\"\";P[e.engagementType]&&(n=P[e.engagementType]);e.tglName=e.customTaglet?e.tglName:n}function N(e){return e.renderingType===A.TAGLET}function _(){var e=navigator.userAgent;e=e.toLowerCase();var n=/(msie) ([\\w.]+)/,t=n.exec(e);if(null!=t){var a=parseInt(t[2],10);if(7>=a&&-1===e.toLowerCase().indexOf(\"trident\"))return!1}return!0}function L(){lpTag.events.bind(\"LE_ENGAGER\",\"SHOW\",l);lpTag.events.bind(\"lpUnifiedWindow\",\"state\",f);lpTag.events.bind(\"LE_ENGAGER\",\"CHAT\",s);lpTag.events.bind(\"LE_ENGAGER\",\"SURVEY\",d);lpTag.events.bind(\"LP_OFFERS\",\"OFFER_REMOVE\",r)}function D(e){return e&&JSON.parse(S(e))}function S(e){var n;if(\"function\"==typeof Array.prototype.toJSON){var t=Array.prototype.toJSON;delete Array.prototype.toJSON;try{n=JSON.stringify(e)}catch(a){Array.prototype.toJSON=t;throw a}Array.prototype.toJSON=t}else n=JSON.stringify(e);return n}var w=\"0.11.0\",G=\"rendererStub\",P={0:\"peeling\",1:\"overlay\",2:\"toaster\",3:\"slider\",5:\"overlay\",6:\"overlay\"},C={0:\"na\",1:\"online\",2:\"offline\"},b={CHAT:\"CHAT\",ACCDN:\"acCdnDomain\",LPCDN:\"leCdnDomain\"},A={INTERNAL:0,HTML:1,TAGLET:2},h={},U={ids:{},divIds:{}},B={};return{_v:w,_name:G,init:e,onBeforeNavigation:n,getEngagementState:a,getEngagementInfo:t,click:g}}();","name":"rendererStub"},{"code":"window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.taglets.lpUtil=lpTag.taglets.lpUtil||function(){function indexOf(e,t){if(\"function\"==typeof[].indexOf&&\"function\"==typeof e.indexOf)return e.indexOf(t);if(e.constructor===Array)for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1}function trim(e){return\"string\"!=typeof e?e:e.trim?e.trim():e.replace(/^\\s+|\\s+$/gm,\"\")}function trimAndLower(e){if(\"string\"!=typeof e)return e;var t=trim(e);return t.toLowerCase()}function getURLParams(e){var t,i,l={};t=e.substr(1).split(\"&\");for(var p=0;p<t.length;p++)if(t[p].indexOf(\"=\")>-0){i=t[p].split(\"=\");2==i.length&&(l[decodeURIComponent(i[0])]=decodeURIComponent(i[1]))}return l}function addQueryParams(e,t){if(\"string\"==typeof e&&e.length>0){if(Array.isArray(t))return _addQueryParamsFromArray(e,t);if(_isValidKeyValueInput(t))return _addQueryParam(e,t)}}function _addQueryParamsFromArray(e,t){for(var i,l=e,p=0;p<t.length;p++){i=t[p];if(!l||\"object\"!=typeof i)break;l=_addQueryParam(l,i)}return l}function _addQueryParam(e,t){var i,l,p=/(\\?|&|\\/|\\\\)$/;if(_isValidInput(e,t)){p.test(e)&&(e=e.substr(0,e.length-1));i=new RegExp(\"([?&])\"+t.key+\"=.*?(&|$)\",\"ig\");l=-1===e.indexOf(\"?\")?\"?\":\"&\";return e.match(i)?e.replace(i,\"$1\"+t.key+\"=\"+t.value+\"$2\"):e+l+t.key+\"=\"+t.value}}function _isValidInput(e,t){return\"string\"==typeof e&&e.length>0&&_isValidKeyValueInput(t)}function _isValidKeyValueInput(e){var t=e&&e.key,i=e&&e.value;return e&&\"string\"==typeof t&&t.length>0&&(\"number\"==typeof i||\"string\"==typeof i&&i.length>0)}function cloneExtend(e,t,i){var l;if(!e||\"object\"!=typeof e)return e;if(!t)return clone(e);l=t||e.constructor()||{};for(var p in e)l[p]!==e[p]&&e.hasOwnProperty(p)&&(l[p]=i?cloneExtend(e[p],void 0,i):e[p]);return l}function clone(e){try{return JSON.parse(stringify(e))}catch(t){lpTag.log(\"unable to clone object:\"+JSON.stringify(t),\"ERROR\",name);return}}function convertConfig(conf,_config){if(\"undefined\"!=typeof _config){if(conf)for(var i=0;i<conf.length;i++){var val=conf[i].value;if(\"string\"==typeof val&&\"\"!==val)if(\"true\"===val)val=!0;else if(\"false\"===val)val=!1;else if(\"[\"==val.charAt(0)||\"{\"==val.charAt(0))try{val=\"undefined\"!=typeof JSON&&JSON.parse?JSON.parse(val):eval(\"(\"+val+\")\")}catch(e){lpTag.log(\"unable to parse JSON:\"+JSON.stringify(e),\"ERROR\",name)}_config[conf[i].id]=val}}else lpTag.log(\"_config is passed as undefined\",\"ERROR\",name)}function addStyleTag(e,t){if(e&&\"string\"==typeof e){t=t||{};var i,l=t.document||window.document,p=t.id;if(\"undefined\"!=typeof p){i=l.getElementById(p)||l.createElement(\"style\");i.id=p}else i=l.createElement(\"style\");i.type=\"text/css\";l.getElementsByTagName(\"head\")[0].appendChild(i);i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e));return i}}function objectKeys(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=i);return t}function waitForBody(e,t){function i(){p.body?runCallback(e,l):setTimeout(i,50)}t=t||{};var l=t.context,p=t.document||window.document;i()}function stringify(e){var t,i;if(\"function\"==typeof Array.prototype.toJSON){i=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(l){Array.prototype.toJSON=i;throw l}Array.prototype.toJSON=i}else t=JSON.stringify(e);return t}function getUID(){var e=\"tttttttt-tttt-4ttt-fttt-t7ttttttttttt\".replace(/[tf]/g,function(e){var t=16*Math.random()|0,i=\"t\"==e?t:3&t|8;return i.toString(16)});return e+\"-\"+Math.floor(1e5*Math.random())}function runCallback(e,t){t=t||window;if(\"function\"==typeof e){var i=Array.prototype.slice.call(arguments,2);try{return e.apply(t,i)}catch(l){lpTag.log(\"Failed to execute callback exc= \"+l.message,\"ERROR\",name)}}}function registerEvent(e,t,i){e&&t&&i&&(e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent(\"on\"+t,i))}function unregisterEvent(e,t,i){e&&t&&i&&(e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent(\"on\"+t,i))}function buildClassString(e,t,i){var l,p;e=\"string\"==typeof e?e:\"\";l=e.split(\" \");p=t&&t.constructor===Array?t:\"string\"==typeof t?[t]:[];i=i&&i.constructor===Array?i:\"string\"==typeof i?[i]:[];for(var a=0;a<l.length;a++)indexOf(i,l[a])<0&&indexOf(p,l[a])<0&&p.push(l[a]);return p.join(\" \").replace(/$\\s/gi,\"\")}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function getPropertyFromObject(e,t,i){var l,p=e;if(\"string\"==typeof t){l=t.split(\".\");for(var a=0;a<l.length;a++){if(\"undefined\"==typeof p||null===p||\"undefined\"==typeof p[l[a]]||null===p[l[a]]){p=\"undefined\"!=typeof i?i:void 0;break}p=p[l[a]]}}else lpTag.log(\"Empty path sent to lookup getPropertyFromObject\",\"DEBUG\",\"utils\");return p}function addClass(e,t){if(e.className.indexOf(t)<0){e.className=[e.className,t].join(\" \");e.className=_removeSpaces(e.className)}}function removeClass(e,t){e.className=e.className.replace(new RegExp(t,\"g\"),\"\");e.className=_removeSpaces(e.className)}function _removeSpaces(e){return trim(e.replace(/\\s\\s*/g,\" \"))}function mapString(e,t,i){var l={};if(e&&\"string\"==typeof e){i&&(e=decodeURIComponent(e));for(var p,a=e.split(t),n=0;n<a.length;n++){p=a[n].split(\"=\");l[p[0]]=p[1]}}return l}var name=\"Utils\",cookieActions={delimiter:\"|\",set:function(e,t,i){if(\"string\"==typeof e&&t.join&&\"function\"==typeof t.join){var l=encodeURIComponent(e)+\"=\"+encodeURIComponent(t.join(this.delimiter))+\";path=/\";\"undefined\"!=typeof i&&(l+=\";domain=\"+i);document.cookie=l;return!0}},get:function(e){var t=\"\\\\$&\";if(\"string\"==typeof e){var i=document.cookie.replace(new RegExp(\"(?:(?:^|.*;)\\\\s*\"+encodeURIComponent(e).replace(/[\\-\\.\\+\\*]/g,t)+\"\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$\"),\"$1\")||null;if(\"string\"==typeof i){var l=decodeURIComponent(i);if(l)return l.split(this.delimiter)}}},remove:function(e,t){if(\"string\"==typeof e){this.set(e,[\"null\"],t);return!0}}};return{indexOf:indexOf,trim:trim,trimAndLower:trimAndLower,getURLParams:getURLParams,addQueryParams:addQueryParams,cloneExtend:cloneExtend,clone:clone,convertConfig:convertConfig,addStyleTag:addStyleTag,objectKeys:objectKeys,waitForBody:waitForBody,stringify:stringify,cookieActions:cookieActions,getUID:getUID,runCallback:runCallback,registerEvent:registerEvent,unregisterEvent:unregisterEvent,buildClassString:buildClassString,isEmpty:isEmpty,getPropertyFromObject:getPropertyFromObject,addClass:addClass,removeClass:removeClass,mapString:mapString}}();window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.helpers=lpTag.unifiedWindow.helpers||{};lpTag.unifiedWindow.helpers.ApplicationHelper=lpTag.unifiedWindow.helpers.ApplicationHelper||function(e){function t(e,t,l){var p=\"\",a=i(e,t,l);e.connector?e.connector.type===g?p=s(a,e,t):(e.connector.type===f||e.connector.type===b)&&(p=_(a,e,t)):p=m(a,t);return p}function i(e,t,i){var l={accountId:t.accountId,env:e.env||u.unifiedWindow&&u.unifiedWindow.DomainHelper.getEnvByTagletDomain(u.ovr.tagjs)};i?r(l,e,t):d(l,e,t);return l}function l(e){return e.connector&&0===e.connector.type}function p(){return\"undefined\"!=typeof u.taglets.lpUnifiedWindowRecaptcha}function a(){h=e.utils;u=e.lpTag}function n(e){var t=document.createElement(\"a\");t.href=e;return{search:t.search,port:t.port,protocol:t.protocol,hostname:t.hostname,pathname:o(t.pathname)}}function o(e){return 0===e.indexOf(\"/\")?e:\"/\"+e}function r(e,t,i){e.poppedOut=!0;e.sessionId=i.sessionId;e.initialStorageType=i.secureStorageType;e.supportBlockCCPattern=i.supportBlockCCPattern;e.engConf={lewid:t.lewid};i.widgetSDK&&(e.widgetSDK=e.widgetSDK||i.widgetSDK)}function d(e,t,i){e.external=!0;e.chatSessionTimeout=i.chatSessionTimeout;e.supportBlockCCPattern=i.supportBlockCCPattern;e.secureStorageType=i.secureStorageType;e.engConf={async:t.async,scid:t.scid,cid:t.cid,eid:t.eid,lang:t.lang,svid:t.svid,ssid:t.ssid,lewid:t.lewid,connector:t.connector};p()&&(e.useRecaptcha=!0);i.sessionTimeout&&(e.sessionTimeout=i.sessionTimeout);i.widgetSDK&&(e.widgetSDK=i.widgetSDK);l(t)&&(e.engConf.authConnId=t.connector.id);t.skill&&(e.engConf.skill=t.skill);e.engConf.connector&&e.engConf.connector.configuration&&delete e.engConf.connector.configuration.jwtPublicKey;var a=h.getURLParams(location.search);a&&a.lpDebug&&(e.lpDebug=a.lpDebug)}function _(e,t,i){t.connector=t.connector||{};if(c(t.connector)){var l=1===t.connector.type?\"token\":\"code\";return h.addQueryParams(t.connector.configuration.authorizationEndpoint,[{key:\"client_id\",value:t.connector.configuration.clientId},{key:\"response_type\",value:l},{key:\"redirect_uri\",value:m(e,i,!0)}])}e.invalidAuthConnector=!0;return m(e,i)}function s(e,t,i){var l=t.connector.configuration.genKeyUrl,p=n(l);p.search=h.addQueryParams(p.search,[{key:\"rt\",value:\"redir\"},{key:\"redirect\",value:encodeURIComponent(i.codeRepository+\"/index.html\")},{key:\"lpUnifiedWindowConfig\",value:encodeURIComponent(h.stringify(e))}]);return p.protocol+\"//\"+p.hostname+(p.port?\":\"+p.port:\"\")+p.pathname+p.search}function m(e,t,i){var l=n(t.codeRepository+\"/index.html\"),p=l.protocol+\"//\"+l.hostname+(l.port?\":\"+l.port:\"\")+l.pathname+\"?lpUnifiedWindowConfig=\";return(i?encodeURIComponent(p):p)+encodeURIComponent(h.stringify(e))}function c(e){e.configuration=e.configuration||{};return e.configuration.authorizationEndpoint&&e.type}var h,u,g=0,f=1,b=2;a(e);return{createExternalConfiguration:i,isRecaptchaEnabled:p,isAuthenticatedEnabled:l,getExternalResourceURL:t}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.BrowserStateManager=function(e){function t(e){z=\"boolean\"==typeof navigator.onLine;v=z?navigator.onLine:!0;A=e;y=r();S=window.innerWidth;N=g();var t=u();k=t.hiddenAttr;T=t.visibilityChange;s()}function i(e,t,i){L[e]=L[e]||[];L[e].push({callback:t,context:i})}function l(e,t){x(e,t)}function p(){z&&(v=navigator.onLine);return v}function a(){return!!k}function n(){return W}function o(){return document[k]}function r(){var e;if(\"undefined\"!=typeof window.orientation){var t=window.orientation;e=90===t||-90===t}else e=window.innerWidth>window.screen.availHeight;return e}function d(){for(var e in L){L[e]&&L[e].constructor===Array&&(L[e].length=0);L[e]=null;delete L[e]}}function _(){d();N&&P.unregisterEvent(window,N,f);P.unregisterEvent(window,\"resize\",C);P.unregisterEvent(window,\"focus\",m);P.unregisterEvent(window,\"blur\",h)}function s(){N&&P.registerEvent(window,N,f);P.registerEvent(window,\"resize\",C);P.registerEvent(window,\"focus\",m);P.registerEvent(window,\"blur\",h);P.registerEvent(document,T,c)}function m(){W=!0;if(\"undefined\"!=typeof L[D.FOCUS_CHANGE])for(var e=0;e<L[D.FOCUS_CHANGE].length;e++)P.runCallback(L[D.FOCUS_CHANGE][e].callback,L[D.FOCUS_CHANGE][e].context,{focus:W});R.info(\"_onFocus: trigger window focus event\",O)}function c(){if(\"undefined\"!=typeof L[D.VISIBILITY_CHANGE])for(var e=0;e<L[D.VISIBILITY_CHANGE].length;e++)P.runCallback(L[D.VISIBILITY_CHANGE][e].callback,L[D.VISIBILITY_CHANGE][e].context,{visible:!document[k]});R.info(\"_onVisibilityChange: trigger visibility change event\",O)}function h(){W=!1;if(\"undefined\"!=typeof L[D.FOCUS_CHANGE])for(var e=0;e<L[D.FOCUS_CHANGE].length;e++)P.runCallback(L[D.FOCUS_CHANGE][e].callback,L[D.FOCUS_CHANGE][e].context,{focus:W});R.info(\"_onBlur: trigger window blur event\",O)}function u(){var e,t;if(\"undefined\"!=typeof document.webkitHidden){e=\"webkitHidden\";t=\"webkitvisibilitychange\"}else if(\"undefined\"!=typeof document.mozHidden){e=\"mozHidden\";t=\"mozvisibilitychange\"}else if(\"undefined\"!=typeof document.msHidden){e=\"msHidden\";t=\"msvisibilitychange\"}else if(\"undefined\"!=typeof document.hidden){e=\"hidden\";t=\"visibilitychange\"}return{hiddenAttr:e,visibilityChange:t}}function g(){return A.isAndroid()||A.isIOS()?\"orientationchange\":\"resize\"}function f(){I&&clearTimeout(I);var e=300;A.isAndroid()&&(e=S===window.innerWidth?900:400);I=setTimeout(b,e)}function b(){var e,t,i;e=r();t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0;i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0;if(e!==y&&\"undefined\"!=typeof L[D.ORIENTATION_CHANGE]){for(var l=0;l<L[D.ORIENTATION_CHANGE].length;l++){P.runCallback(L[D.ORIENTATION_CHANGE][l].callback,L[D.ORIENTATION_CHANGE][l].context,{landscape:e,height:i,width:t});y=e}R.info(\"_triggerOrientationChange: trigger orientation changed event. landscape: \"+y,O)}S=window.innerWidth}function C(){E?clearTimeout(E):w();E=setTimeout(function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,i={height:t,width:e};if(\"undefined\"!=typeof L[D.RESIZE])for(var l=0;l<L[D.RESIZE].length;l++)P.runCallback(L[D.RESIZE][l].callback,L[D.RESIZE][l].context,i);E=null},300)}function w(){if(\"undefined\"!=typeof L[D.RESIZE_START])for(var e=0;e<L[D.RESIZE_START].length;e++)P.runCallback(L[D.RESIZE_START][e].callback,L[D.RESIZE_START][e].context)}function x(e,t){var i=L[e];if(i){for(var l=[],p=0;p<i.length;p++)i[p].callback!==t&&l.push(i[p]);i.length=0;L[e]=l}}var z,v,S,y,k,T,E,I,A,N,R=lpTag.unifiedWindow.log,O=\"BrowserStateManager\",D={RESIZE_START:\"resizeStart\",ORIENTATION_CHANGE:\"orientationChange\",RESIZE:\"resize\",FOCUS_CHANGE:\"focusChange\",VISIBILITY_CHANGE:\"visibilityChange\"},L={},W=!0,P=lpTag.taglets.lpUtil;t(e);return{EVENT_NAME:D,on:i,off:l,visibilitySupported:a,isConnected:p,isHidden:o,isFocus:n,isLandscape:r,unregisterAllEvents:d,dispose:_}};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.DeviceDetector=function(){function e(){return H===U.familyEnum.desktop}function t(){return H===U.familyEnum.mobile}function i(){return H===U.familyEnum.tablet}function l(){return V===U.osEnum.iOS}function p(){return V===U.osEnum.android}function a(){return p()&&!M.match(/Chrome/)}function n(){return G}function o(){return A}function r(){return N}function d(){return O}function _(){if(\"boolean\"==typeof D)return D;var e=!0;try{new Audio}catch(t){e=!1}return e}function s(){return R}function m(){return F}function c(){return B}function h(){return l()?F[1]<=\"7\"||!1:void 0}function u(){return l()?F[1]<=\"6\"||!1:void 0}function g(){return l()?F[1]>=\"8\"||!1:void 0}function f(){return V===U.osEnum.windows}function b(){return V===U.osEnum.mac}function C(){return\"Microsoft Internet Explorer\"===j||w()}function w(){return M.match(/Trident.*rv[ :]*11\\./)}function x(){return U.familyName()}function z(){var e=document.createElement(\"DIV\");k(e);T(e);e=null}function v(){var e;p()?e=M.match(/Android (\\d+)\\.(\\d+)(?:\\.(\\d+))?;+/i):l()&&(e=M.match(/OS (\\d+)_(\\d+)(?:_(\\d+))?\\s+/i));return e}function S(){var e;if(C())if(w())e=11;else{var t=new RegExp(\"MSIE ([0-9]{1,}[.0-9]{0,})\");try{null!=t.exec(M)&&(e=parseFloat(RegExp.$1))}catch(i){W.error(\"_detectBrowserVersion: Could not detect IE version\",L)}}return e}function y(){var e=document.getElementsByName(\"viewport\");if(e.length>0)for(var t=0;t<e.length;t++){var i=I(e[t].content);if(\"device-width\"===i.width)return!0}return!1}function k(e){N=E(e,\"AnimationName\");N.supported&&(A=!0)}function T(e){R=E(e,\"Transition\");R.supported&&(O=!0)}function E(e,t){var i,l={Webkit:\"-webkit-\",Moz:\"-moz-\",O:\"-o-\",ms:\"-ms-\",Khtml:\"-khtml-\"},p=!1,a=t?t.substring(0,1).toLowerCase()+t.substr(1):\"\",n=a,o=t;if(a&&\"undefined\"!=typeof e.style[a]){p=!0;i=\"\"}if(!p)for(var r in l)if(t&&l.hasOwnProperty(r)&&\"undefined\"!=typeof e.style[r+t]){i=l[r];n=i+a;o=r+t;p=!0;break}return{supported:p,preFix:p?i:\"\",propertyName:p?o:\"\",cssPropertyName:p?n:\"\"}}function I(e){for(var t,i=e.split(\",\"),l={},p=0;p<i.length;p++){t=i[p].split(\"=\");l[P.trimAndLower(t[0])]=P.trimAndLower(t[1])}return l}var A,N,R,O,D,L=\"DeviceDetector\",W=lpTag.unifiedWindow.log,P=lpTag.taglets.lpUtil,U=lpTag.device,M=navigator.userAgent,j=navigator.appName,V=U.os(),H=U.family(),F=v(),B=S(),G=y();z();return{isDesktop:e,isMobile:t,isTablet:i,isMobileOptimized:n,isAnimationSupported:o,getAnimationData:r,isTransitionSupported:d,isAudioSupported:_,getTransitionData:s,isAndroid:p,isNativeAndroid:a,isIOS:l,isWindows:f,isMacOS:b,getDeviceFamilyName:x,osVersion:m,browserVersion:c,isIOS6:u,isIOS7:h,isIOS8OrAbove:g,isIE:C}};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.DomainHelper=function(){function e(e){var t=a;if(\"string\"==typeof e)for(var i=0;i<n.length;i++)if(n[i].env===e){t=n[i].tagletsDomain;break}return t}function t(e){var t=l.PRODUCTION;if(\"string\"==typeof e)for(var i=0;i<n.length;i++)if(n[i].tagletsDomain===e){t=n[i].env;break}return t}function i(e){e=e.replace(/[\\[]/,\"\\\\[\").replace(/[\\]]/,\"\\\\]\");var t=new RegExp(\"[\\\\?&]\"+e+\"=([^&#]*)\"),i=t.exec(location.search);return null==i?\"\":decodeURIComponent(i[1].replace(/\\+/g,\" \"))}var l={ALPHA:\"alpha\",QA:\"qa\",PRODUCTION:\"prod\",PRODUCTION1:\"production\",DEV:\"dev\"},p=i(\"uwDomain\")||window.configurationDefaults&&window.configurationDefaults.uwDomain,a=\"tags.liveperson.net\",n=[{env:l.ALPHA,tagDomain:\"lptag-a.liveperson.net\",tagletsDomain:\"tags-a.liveperson.net\"},{env:l.PRODUCTION,tagDomain:\"lptag.liveperson.net\",tagletsDomain:a},{env:l.QA,tagDomain:\"tlv_plankton3.dev.lprnd.net\",tagletsDomain:\"tlv_plankton4.dev.lprnd.net\"},{env:l.DEV,tagDomain:p+\"/mobile_web/devRepository\",tagletsDomain:\"tlv_plankton4.dev.lprnd.net\"}];return{getEnvByTagletDomain:t,getTagletDomainByEnv:e}}();window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.Events=function(e){function t(e){n=new lpTag.Events(e);o=n.trigger;n.trigger=i;r=lpTag.taglets.lpUtil}function i(e,t,i){o(e,t,i);l(e)}function l(e){var t,i,l;d||(d=r.getPropertyFromObject(lpTag,\"unifiedWindow.publicEvents\"));e=\"object\"==typeof e?e:null;i=e&&d&&d[e.appName]&&d[e.appName][e.eventName];if(lpTag.events&&e&&(e.global||i)){if(e.global){e.passDataByRef=!1;e.aSync=!0;lpTag.events.trigger(e)}if(i){t=Array.isArray(i)?i:[i];for(var a=0;a<t.length;a++){l=p(e,t[a]);lpTag.events.trigger(l)}}}}function p(e,t){var i=r.clone(t);i.passDataByRef=!1;i.aSync=!0;i.data=a(e,i.data);return i}function a(e,t){var i={};if(\"object\"==typeof t)for(var l in t)i[l]=r.getPropertyFromObject(e,t[l]);else i=r.getPropertyFromObject(e,t);return i}var n,o,r,d;t(e);return n};!function(){function e(){function e(e){return a[p]&&a[p][e]||lpTag.unifiedWindow.defaultDictionary[e]}function t(e){return o[e]===!0}function i(e){p=e||n}function l(e,t){t=t||{};a[t.locale]=e;t.locale===n&&lpTag.taglets.lpUtil.cloneExtend(e,lpTag.unifiedWindow.defaultDictionary)}var p,a={},n=\"en-US\",o={\"he-IL\":!0,\"ar-AE\":!0};return{getString:e,isRTL:t,add:l,setLocale:i}}lpTag.unifiedWindow.language=new e;lpTag.unifiedWindow.addLanguage=function(e,t){lpTag.unifiedWindow.language.add(e,t)}}();window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.log=lpTag.unifiedWindow.log||function(){function e(e){r=lpTag.taglets.lpUtil;var i=r.getURLParams(window.location.search),l=i.lpDebug;if(e.debug||\"1\"===l){n(\"INFO\");t()}}function t(){window.lpTaglogListeners=window.lpTaglogListeners||[];window.lpTaglogListeners.push(function(e,t,l){window.console&&t&&_[t]<=m&&-1===r.indexOf(s,l)&&console.log(i()+\" \"+l+\" : \"+e+\" LEVEL: \"+t)})}function i(){var e=new Date;return e.getHours()+\":\"+(e.getMinutes()<10?\"0\"+e.getMinutes():e.getMinutes())+\":\"+(e.getSeconds()<10?\"0\"+e.getSeconds():e.getSeconds())}function l(e,t){o(e,\"ERROR\",t||d)}function p(e,t){o(e,\"INFO\",t||d)}function a(e,t){o(e,\"DEBUG\",t||d)}function n(e){_[e]&&(m=_[e])}function o(e,t,i){window.lpTag&&lpTag.log&&e&&lpTag.log(e,t,i||d)}var r,d=\"UnifiedWindowLogger\",_={ERROR:1,INFO:2,DEBUG:3},s=[\"lp_SMT\",\"lp_monitoringSDK\",\"LP_OFFER\"],m=_.ERROR;return{init:e,error:l,info:p,debug:a,setLogLevel:n,logLevels:_}}();window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.SessionManager=function(e){function t(e){if(\"object\"==typeof e&&e.accountId&&\"string\"==typeof e.accountId){x=e.getSelectedStorage;I+=e.accountId;v=e.sessionId;z=e.events;S=e.external;w=e.cookieRefreshTimeout||5e3;y=c(e)}else E.error(\"init: no conf was provided\",k)}function i(){E.info(\"getSessionId  - before = \"+v,k);var e,t=T.cookieActions.get(I);E.info(\"_getCookieValue sessionCookie = \"+t,k);t&&(e=t[1]||\"null\");!v&&t&&(v=t[0]);v=d(v,e);E.info(\"getSessionId  - result = \"+v,k);return v}function l(){E.info(\"getSessionTime\",k);var e=T.cookieActions.get(I);E.debug(\"getSessionTime: cookie=\"+JSON.stringify(e));return e?e[1]:void 0}function p(){return y}function a(){var e;E.info(\"getSessionTime\",k);var t=T.cookieActions.get(I);E.debug(\"getSessionTime: cookie=\"+JSON.stringify(t));t&&t.length>=4&&(e=parseInt(t[3],10));return e}function n(){E.info(\"getSessionCookie\",k);return T.cookieActions.get(I)}function o(){if(!S){E.info(\"refresh\",k);N=!1;i();b()}}function r(e){clearTimeout(C);m();E.info(\"dispose\",k);v=null;N=!0;e===!0||S||T.cookieActions.remove(I,A)}function d(e,t,i){E.info(\"_setSession sessionId=\"+e+\" timestamp=\"+t,k);var l=T.cookieActions.get(I);if(!e||\"null\"===e&&!i){e=T.getUID();E.info(\"_setSession getUID sid=\"+e,k)}else if(e&&l&&e!==l[0]&&i){z.trigger({appName:k,eventName:\"sessionChanged\",data:l[0]});N=!0;return}var p=[e,t||\"null\"],a=_(l);p.push(a||\"null\");p.push(y||\"null\");E.info(\"_setSession setCookie = \"+I+\" cookieValue = \"+p,k);S||T.cookieActions.set(I,p,A);return e}function _(e){var t=e||T.cookieActions.get(I);return x()||t&&t[2]}function s(){z.bind({appName:\"ChatStateManager\",eventName:\"startChatInfo\",func:u})}function m(){z.unbind({appName:\"ChatStateManager\",eventName:\"startChatInfo\",func:u})}function c(e){return S?h()||e.sessionTimeout:e.echoedSessionTimeout||a()||e.sessionTimeout}function h(){var e,t=g();t.CT&&(e=parseInt(t.CT,10));return e}function u(e){if(e.chatTimeout){E.info(\"_updateChatTimeout : echoed chatTimeout = \"+e.chatTimeout,k);y=e.chatTimeout;if(S){var t=g();t.CT=y;window.location.hash=f(t)}}}function g(){return T.mapString(window.location.hash.substring(1),\"&\",!0)}function f(e){var t=[];for(var i in e)t.push(i+\"=\"+e[i]);return encodeURIComponent(t.join(\"&\"))}function b(){E.info(\"_refreshCookie : disposed = \"+N,k);C&&clearTimeout(C);if(!N){var e=(new Date).getTime();E.info(\"Refresh Cookie: timestamp = \"+e,k);d(v,e,!0);C=setTimeout(b,w)}}var C,w,x,z,v,S,y,k=\"SessionManager\",T=lpTag.taglets.lpUtil,E=lpTag.unifiedWindow.log,I=\"LPCKEY-\",A=lpTag.domainUtil.getParentDomain(window.location.host),N=!1;t(e);s();return{dispose:r,refresh:o,getSessionId:i,getSessionTime:l,getSessionSelectedStorage:_,getSessionCookie:n,getSessionTimeout:p}};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.StateAnalyzer=function(e,t){function i(e){if(\"object\"==typeof e&&t&&e.sessionId&&e.accountId&&e.secureStorageLocation){o=t;r=e.sessionId;d=e.accountId;_=e.secureStorageLocation}else c.error(\"init: no conf was provided\",s)}function l(e,t){c.info(\"getState\",s);lpTag.taglets.lpSecureStorage.getValue({key:r,site:d,success:a(e),error:n(t),appName:m,domain:_})}function p(){var e,t=o.getSessionTime(),i=(new Date).getTime(),l=1e3*o.getSessionTimeout();e=\"undefined\"==typeof t||\"null\"===t?u.NOT_STARTED:l>=i-t?u.IN_SESSION:u.EXPIRED;c.info(\"_getSessionState: now=\"+i+\" sessionTime=\"+t+\" sessionTimeout=\"+l+\" sessionState=\"+e,s);return e}function a(e){return function(t){var i=p(),l=u.NOT_STARTED;t&&i===u.EXPIRED?l=u.EXPIRED:t?l=u.IN_SESSION:i===u.IN_SESSION&&(l=u.INVALID);c.info(\"_success: data = \"+JSON.stringify(t)+\" analyzerState=\"+l,s);h.runCallback(e,null,t,l)}}function n(e){return function(t){c.info(\"_error: data = \"+JSON.stringify(t),s);h.runCallback(e,null,t,u.NOT_STARTED)}}var o,r,d,_,s=\"StateAnalyzer\",m=\"UIState\",c=lpTag.unifiedWindow.log,h=lpTag.taglets.lpUtil,u={NOT_STARTED:0,IN_SESSION:1,INVALID:2,EXPIRED:3};i(e);return{getState:l,state:h.clone(u)}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.WindowConfigurationManager=function(e){function t(e){if(\"object\"==typeof e&&e.sessionId&&e.accountId&&e.secureStorageLocation&&e.domain){_=e.sessionId;d=e.accountId;s=e.secureStorageLocation;m=e.domain;h=e.windowId;c=_+f}else b.error(\"init: no configuration given\",g)}function i(e){b.info(\"getConf\",g);u?C.runCallback(e,null,u):w.getValue({key:c,site:d,success:n(e),error:n(e),appName:f,domain:s})}function l(){w.removeValue({key:c,site:d,appName:f,success:r,error:r,domain:s})}function p(e){b.info(\"_setConf\",g);w.setValue({key:c,site:d,value:{conf:e,windowId:h},success:a,error:a,appName:f,domain:s,expires:108e5})}function a(e){b.info(\"_setCallback: data=\"+JSON.stringify(e),g)}function n(e){return function(t){if(e)if(t){u=t.conf;h=t.windowId;C.runCallback(e,null,u)}else o(e)}}function o(e){var t;b.info(\"_getConfiguration\",g);if(h){t=\"https://\"+m+\"/api/account/\"+d+\"/configuration/engagement-window/window-confs/\"+h;lpTag.taglets.jsonp.issueCall({url:t,timeout:5e3,retries:0,success:function(t){if(t&&t.json&&t.json&&!t.error){b.info(\"_getConfiguration - got configuration: \"+JSON.stringify(t.json),g);u=t.json;C.runCallback(e,null,u);p(u)}else{b.info(\"_getConfiguration - NO CONFIGURATION FOUND\",g);C.runCallback(e)}},error:function(){b.info(\"_getConfiguration - ERROR FROM SERVER\",g);C.runCallback(e)}})}else{b.error(\"_getConfiguration: No windowId provided, fallback to default configuration\",g);C.runCallback(e,null,{})}}function r(){}var d,_,s,m,c,h,u,g=\"WindowConfigurationManager\",f=\"UIConf\",b=lpTag.unifiedWindow.log,C=lpTag.taglets.lpUtil,w=lpTag.taglets.lpSecureStorage;t(e);return{getConf:i,clear:l}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.WrapperWindow=function(e,t,i,l){function p(e){var t;if(e&&ie.isDesktop()&&e.right>=0){t=e.right>document.body.clientWidth?document.body.clientWidth-280:e.right;se.style.right=t+\"px\";me.style.right=t+\"px\"}Oe.debug(\"_setWindowPosition: offset=\"+e.right,Ee)}function a(e){if(e){J()||p(e.position);n(e.maximized);o(e.embedded)}else n(Pe.isMaximized)}function n(e){if(e){Oe.debug(\"maximizing\",Ee);se.style.display=\"none\";me.style.display=\"block\"}else{Oe.debug(\"minimizing\",Ee);se.style.display=\"block\";me.style.display=\"none\"}}function o(e){if(!e){se.style.display=\"none\";me.style.display=\"none\"}}function r(e){Q();var t=De[e];if(t&&t!==ae){pe=t.error;v(pe);ie.isDesktop()&&be.focus();t.title?d(t.title):t.text&&d(t.text);D(t.text,t.imgUrl,t.imgAltText,e);ae=t}}function d(e,t){if(ne!==e){Oe.info('setting title to: \"'+e+'\"',Ee);var i=re.querySelectorAll('[data-lp-point=\"headerText\"]');t=t||e;for(var l=0;l<i.length;l++)i[l].innerHTML=t;ne=e}}function _(){if(T()){Oe.info(\"showing\",Ee);re.style.display=\"block\"}}function s(){if(T()){Oe.info(\"hiding\",Ee);re.style.display=\"none\"}}function m(e,t){T()?Re.runCallback(t):Re.waitForBody(function(){q(e);N();Re.runCallback(t)})}function c(){return re}function h(){return se}function u(){return ce}function g(){return me}function f(){return de}function b(){return Ce}function C(){return we}function w(){return xe}function x(){return ze}function z(){return ve}function v(e){e?Re.removeClass(be,\"lp_hidden\"):Re.addClass(be,\"lp_hidden\")}function S(e){e?Re.removeClass(Se,\"lp_hidden\"):Re.addClass(Se,\"lp_hidden\")}function y(){if(!We){Oe.info(\"disposing\",Ee);I();ae=null;ne=null;k(!1);de.remove?de.remove():document.body.removeChild(de);We=!0;Re.runCallback(Te)}}function k(e){Le=e}function T(){return Le===!0}function E(){Oe.info(\"_maximize\",Ee);n(!0)}function I(){Oe.info(\"unbinding dom events\",Ee);A();le.off(le.EVENT_NAME.ORIENTATION_CHANGE,$)}function A(){Re.unregisterEvent(se,\"click\",E);Re.unregisterEvent(be,\"click\",y)}function N(){Re.registerEvent(be,\"click\",y)}function R(e){Q();Oe.info(\"removing current message\",Ee);var t=fe.querySelector('[data-lp-point=\"message\"]');if(t){t.remove?t.remove():fe.removeChild(t);e||d(\"\");W()}}function O(){return Pe.iconsRepository}function D(e,t,i,l){_();t=t?t:\"\";i=i?i:\"\";e=e?e:\"\";R();Oe.info(\"setting message to: \"+l,Ee);var p;p=l===oe.WAIT?'<div class=\"lp_message\" data-lp-point=\"message\"><table class=\"lp_centralizer\"><tbody><td><div class=\"lp_rotator-container\"><div class=\"lp_rotator-container-bg\"></div><div class=\"lp_rotator\"><img src=\"{{imagesRepository}}/{{imageUrl}}\" alt=\"\"></div></div></td></tbody></table></div>':'<div class=\"lp_message\" data-lp-point=\"message\" aria-labelledby=\"lp_alert_message\"><table class=\"lp_centralizer\"><tbody><tr><td><img src=\"{{imagesRepository}}/{{imageUrl}}\"><div id=\"lp_alert_message\" class=\"lp_text\">{{text}}</div></td></tr></tbody></table></div>';p=L(p);p=p.replace(\"{{text}}\",e);p=p.replace(\"{{imageUrl}}\",t);p=p.replace(\"{{imageAltText}}\",i?'alt=\"'+i+'\"':\"\");fe.innerHTML+=p;setTimeout(function(){fe.firstChild.setAttribute(\"role\",\"alert\")},0)}function L(e){e=e.replace(/\\{\\{iconsRepository\\}\\}/g,O());e=e.replace(/\\{\\{imagesRepository\\}\\}/g,Pe.imagesRepository);return e}function W(){Re.removeClass(fe,\"lp_centered\")}function P(e,t){if(\"object\"==typeof e)for(var i in e)Pe[i]=e[i];else Pe[e]=t}function U(e,t,i,l){ie=t;le=i;Te=l;P(e)}function M(){var e=Ae.WRAPPER_DIV_CSS_CLASS_PREFIX;e+=ie.isMobile()?Ae.MOBILE_CSS_CLASS:ie.isTablet()?Ae.TABLET_CSS_CLASS:Ae.DESKTOP_CSS_CLASS;Re.addClass(de,e);return e}function j(){ie.isNativeAndroid()&&Re.addClass(de,Ae.WRAPPER_DIV_CSS_CLASS_PREFIX+Ae.NATIVE_CSS_CLASS);var e=Ae.WRAPPER_DIV_CSS_CLASS_PREFIX;if(ie.isIE())e+=\"ie\"+ie.browserVersion();else if(ie.isIOS()){e+=Ae.IOS_CSS_CLASS;ie.isIOS6()?e+=\" \"+Ae.IOS6_CSS_CLASS:ie.isIOS8OrAbove()&&(e+=\" \"+Ae.WRAPPER_DIV_CSS_CLASS_PREFIX+Ae.IOS8_OR_ABOVE_CSS_CLASS)}else if(ie.isAndroid())e+=Ae.ANDROID_CSS_CLASS;else{if(!ie.isMacOS())return;e+=Ae.MAC_OSX_CSS_CLASS}Re.addClass(de,e);return e}function V(){var e='<div class=\"lp_minimized\" data-lp-point=\"minimized\" data-lp-cust-id=\"minimized\" role=\"region\"><div class=\"lp_main\" data-lp-point=\"main\" role=\"navigation\"><div class=\"lp_header\" data-lp-point=\"header\" data-lp-cust-id=\"top\"><div class=\"lp_notification_number lpHide\" data-lp-point=\"notification_counter\"><span class=\"lp_notification_text\" data-lp-point=\"notification_text\">{{notification_number}}</span></div><div class=\"lp_header-content-wrapper\"><div class=\"lp_title\" role=\"heading\"><div class=\"lp_chatting-with-icon lpHide\" data-lp-type=\"icon\" data-lp-point=\"chattingWithIcon\"><img src=\"{{iconsRepository}}/sprites_v1.png\" alt=\"\"></div><span data-lp-point=\"headerText\" data-lp-cust-id=\"top_text\" class=\"lp_top-text\" data-studio-click=\"true\">{{windowTitle}}</span></div><div class=\"lp_header-buttons-container\" role=\"menubar\"><button title=\"{{tooltip_Maximize}}\" class=\"lp_maximize\" data-lp-point=\"maximize\" role=\"menuitem\"><div class=\"lp_maximize-icon\" data-lp-type=\"icon\"><img src=\"{{iconsRepository}}/sprites_v1.png\" alt=\"{{tooltip_Maximize}}\" aria-hidden=\"true\"></div></button> <button title=\"{{tooltip_Close}}\" class=\"lp_close\" data-lp-point=\"close\" role=\"menuitem\"><div class=\"lp_close-icon\" data-lp-type=\"icon\"><img src=\"{{iconsRepository}}/sprites_v1.png\" alt=\"{{tooltip_Close}}\" aria-hidden=\"true\"></div></button></div></div></div></div></div>';e=L(e);e=e.replace(/\\{\\{tooltip_Close\\}\\}/g,Ne.getString(\"tooltip_Close\"));re.innerHTML+=e}function H(){V();F();B()}function F(){var e='<div class=\"lp_maximized\" data-lp-point=\"maximized\" role=\"region\"><div class=\"lp_header\" data-lp-point=\"header\" data-lp-cust-id=\"top\" data-studio-click=\"true\" role=\"navigation\"><div class=\"lp_header-content-wrapper\"><button title=\"{{tooltip_open_widgets}}\" class=\"lp_hidden lp_slider\" data-lp-point=\"widget_sdk\" role=\"menuitem\"><div class=\"lp-slider-icon\" data-lp-type=\"icon\"><img src=\"{{iconsRepository}}/sprites_v1.png\" alt=\"\" aria-hidden=\"true\"></div></button><div class=\"lp_notification_number wsdkNotification lpHide\" data-lp-point=\"widgetNotificationContainer\"><span class=\"lp_notification_text\" data-lp-point=\"widgetNotificationText\">0</span></div><div class=\"lp_title\" data-lp-point=\"maximizedTitleContainer\"><div class=\"lp_chatting-with-icon lpHide\" data-lp-type=\"icon\" data-lp-point=\"chattingWithIcon\"><img src=\"{{iconsRepository}}/sprites_v1.png\" alt=\"\" aria-hidden=\"true\"></div><span data-lp-point=\"headerText\" data-lp-cust-id=\"top_text\" class=\"lp_top-text\" data-studio-click=\"true\" aria-live=\"assertive\" role=\"presentation\">{{windowTitle}}</span></div><div class=\"lp_header-buttons-container\" role=\"menubar\"><button title=\"{{tooltip_Minimize}}\" class=\"lp_minimize\" data-lp-point=\"minimize\" role=\"menuitem\"><div class=\"lp_minimize-icon\" data-lp-type=\"icon\"><img src=\"{{iconsRepository}}/sprites_v1.png\" alt=\"{{tooltip_Minimize}}\" aria-hidden=\"true\"></div></button> <button title=\"{{tooltip_Popout_topbar}}\" class=\"lp_popout lpHide\" data-lp-point=\"popout\" role=\"menuitem\"><div class=\"lp_pop-out-icon\" data-lp-type=\"icon\" data-lp-point=\"popicon\"><img src=\"{{iconsRepository}}/sprites_v1.png\" alt=\"\" aria-hidden=\"true\"></div></button> <button title=\"{{tooltip_Close}}\" class=\"lp_close\" data-lp-point=\"close\" role=\"menuitem\"><div class=\"lp_close-icon\" data-lp-type=\"icon\"><img src=\"{{iconsRepository}}/sprites_v1.png\" alt=\"{{tooltip_Close}}\" aria-hidden=\"true\"></div></button></div></div></div><div class=\"lp_main\" data-lp-point=\"main\" data-lp-cust-id=\"mainArea\" role=\"main\"></div></div><div data-lp-point=\"buffer-strip\" class=\"lp_buffer-strip\"><div class=\"lp_buffer-strip-container\" data-lp-cust-id=\"mainArea\"></div></div>';\n\ne=L(e);e=e.replace(/\\{\\{tooltip_Close\\}\\}/g,Ne.getString(\"tooltip_Close\"));re.innerHTML+=e}function B(){se=re.querySelector('[data-lp-point=\"minimized\"]');me=re.querySelector('[data-lp-point=\"maximized\"]');ce=re.querySelector('[data-lp-point=\"buffer-strip\"]')}function G(){re=document.createElement(\"div\");Ae.WRAPPER_DIV_ID&&(re.id=Ae.WRAPPER_DIV_ID);de=document.createElement(\"div\");de.appendChild(re);document.body.appendChild(de)}function q(e){Oe.info(\"rendering\",Ee);G();H();var t=se.querySelector('[data-lp-point=\"main\"]');Re.addClass(se,\"lpHide\");if(Ae.MINIMIZED_VIEW_IFRAME_RENDERING){he=Z(t);ue=he.body;Re.addClass(ue,\"lp_main\")}else ue=t;var i=me.querySelector('[data-lp-point=\"main\"]');if(Ae.MAXIMIZED_VIEW_IFRAME_RENDERING){ge=Z(i);fe=ge.body;Re.addClass(fe,\"lp_main\")}else fe=i;Ce=me.querySelector(['[data-lp-point=\"widget_sdk\"]']);we=me.querySelector(['[data-lp-point=\"widgetNotificationContainer\"]']);xe=me.querySelector(['[data-lp-point=\"widgetNotificationText\"]']);ze=me.querySelector(['[data-lp-point=\"maximizedTitleContainer\"]']);ve=me.querySelector(['[data-lp-point=\"chattingWithIcon\"]']);be=me.querySelector(['[data-lp-point=\"close\"]']);Se=me.querySelector(['[data-lp-point=\"minimize\"]']);ye=me.querySelector(['[data-lp-point=\"popicon\"]']);ye&&Re.addClass(ye,Pe.poppedOut?\"lp_pop-in-icon\":\"lp_pop-out-icon\");if(J()){ee();te(Pe.engConf.lang)}S(!1);v(!1);a(e);Y();K();k(!0);X()}function J(){return Pe.poppedOut||Pe.external}function K(){ke=setTimeout(function(){r(oe.WAIT)},Ae.WAIT_INDICATION_DELAY)}function X(){M();j();if(ie.isMobile()||ie.isTablet()){$({landscape:le.isLandscape()});le.on(le.EVENT_NAME.ORIENTATION_CHANGE,$)}}function Y(){Oe.info(\"applying style\",Ee);_e=Re.addStyleTag('#lpChat *{box-sizing:border-box;font-weight:normal;letter-spacing:0;font-family:inherit;opacity:1;filter:alpha(opacity=100);max-width:none;direction:inherit;text-align:inherit;outline:none}#lpChat *::-moz-focus-inner{border:0}#lpChat .lp_main_area *{-webkit-overflow-scrolling:touch;-webkit-text-size-adjust:none;-webkit-font-smoothing:antialiased}#lpChat img{margin:0;padding:0;border:0;vertical-align:bottom;background:inherit;background:initial;position:static;position:initial;color:black;width:auto;height:auto;text-shadow:none;box-shadow:none;-webkit-box-shadow:initial;line-height:normal}#lpChat b,#lpChat strong{font-weight:bold}#lpChat h1,#lpChat h2,#lpChat h3,#lpChat h4,#lpChat h5,#lpChat h6,#lpChat p,#lpChat blockquote,#lpChat pre,#lpChat a,#lpChat abbr,#lpChat acronym,#lpChat address,#lpChat big,#lpChat cite,#lpChat code,#lpChat del,#lpChat dfn,#lpChat em,#lpChat ins,#lpChat kbd,#lpChat q,#lpChat s,#lpChat samp,#lpChat small,#lpChat strike,#lpChat strong,#lpChat sub,#lpChat sup,#lpChat tt,#lpChat var,#lpChat b,#lpChat u,#lpChat i,#lpChat center,#lpChat dl,#lpChat dt,#lpChat dd,#lpChat ol,#lpChat ul,#lpChat li,#lpChat fieldset,#lpChat form,#lpChat select,#lpChat label,#lpChat legend,#lpChat table,#lpChat caption,#lpChat tbody,#lpChat tfoot,#lpChat thead,#lpChat tr,#lpChat th,#lpChat td,#lpChat article,#lpChat aside,#lpChat canvas,#lpChat details,#lpChat embed,#lpChat figure,#lpChat figcaption,#lpChat footer,#lpChat header,#lpChat menu,#lpChat nav,#lpChat output,#lpChat ruby,#lpChat section,#lpChat summary,#lpChat span,#lpChat time,#lpChat mark,#lpChat audio,#lpChat video,#lpChat p{margin:0;padding:0;border:0;vertical-align:baseline;background:inherit;background:initial;position:static;position:initial;color:inherit;width:auto;height:auto;text-shadow:none;box-shadow:none;-webkit-box-shadow:initial;line-height:normal;font-size:inherit}#lpChat input:not([type=\"radio\"]){margin:0;padding:0;border:0;vertical-align:baseline;background:inherit;background:initial;position:static;position:initial;color:black;width:auto;height:auto;text-shadow:none;box-shadow:none;-webkit-box-shadow:initial;line-height:normal}#lpChat input[type=\"radio\"],#lpChat textarea{margin:0;padding:0;border:0;vertical-align:baseline;position:static;position:initial;color:black;width:auto;height:auto;min-height:0;text-shadow:none;box-shadow:none;-webkit-box-shadow:initial;line-height:normal}#lpChat input[type=\"radio\"]{-moz-appearance:radio;-webkit-appearance:radio;appearance:radio}#lpChat textarea{font-size:inherit}#lpChat legend{display:block}#lpChat div,#lpChat button{margin:0;padding:0;border:0;vertical-align:baseline;background:inherit;background:initial;position:static;position:initial;font-family:inherit;color:inherit;width:auto;height:auto;text-shadow:none;box-shadow:none;-webkit-box-shadow:initial;line-height:normal;font-size:inherit}#lpChat button{font-size:1em;border-radius:0}#lpChat input[type=\"checkbox\"]{-moz-appearance:checkbox;-webkit-appearance:checkbox;appearance:checkbox}#lpChat input{height:auto;vertical-align:middle}#lpChat .lpHide{display:none !important}#lpChat .lpNoOutlineFocus{outline:none !important}#lpChat .lpInlineBlock{display:inline-block !important}#lpChat .lpClearfix:after{visibility:hidden;display:block;font-size:0;content:\" \";clear:both;height:0}.lp_desktop #lpChat .lp_close-icon{position:relative !important;display:inline-block;vertical-align:middle;overflow:hidden !important;width:22px !important;height:22px !important}.lp_desktop #lpChat .lp_close-icon.lp_icon-white img{top:-40px !important;left:-480px !important}.lp_desktop #lpChat .lp_close-icon img{top:0 !important;left:-480px !important;position:absolute !important}.lp_desktop #lpChat .lp_minimize-icon{position:relative !important;display:inline-block;vertical-align:middle;overflow:hidden !important;width:22px !important;height:22px !important}.lp_desktop #lpChat .lp_minimize-icon.lp_icon-white img{top:-40px !important;left:-600px !important}.lp_desktop #lpChat .lp_minimize-icon img{top:0 !important;left:-600px !important;position:absolute !important}.lp_desktop #lpChat .lp_maximize-icon{position:relative !important;display:inline-block;vertical-align:middle;overflow:hidden !important;width:22px !important;height:22px !important}.lp_desktop #lpChat .lp_maximize-icon.lp_icon-white img{top:-40px !important;left:-960px !important}.lp_desktop #lpChat .lp_maximize-icon img{top:0 !important;left:-960px !important;position:absolute !important}.lp_desktop #lpChat .lp_close,.lp_desktop #lpChat .lp_minimize,.lp_desktop #lpChat .lp_maximize,.lp_desktop #lpChat .lp_popout,.lp_desktop #lpChat .lp_actions_button,.lp_desktop #lpChat .lp_slider{width:22px;height:22px}.lp_tablet #lpChat .lp_close-icon,.lp_mobile #lpChat .lp_close-icon{position:relative !important;display:inline-block;vertical-align:middle;overflow:hidden !important;width:24px !important;height:24px !important}.lp_tablet #lpChat .lp_close-icon.lp_icon-white img,.lp_mobile #lpChat .lp_close-icon.lp_icon-white img{top:-40px !important;left:-480px !important}.lp_tablet #lpChat .lp_close-icon img,.lp_mobile #lpChat .lp_close-icon img{top:0 !important;left:-480px !important;position:absolute !important}.lp_tablet #lpChat .lp_minimize-icon,.lp_mobile #lpChat .lp_minimize-icon{position:relative !important;display:inline-block;vertical-align:middle;overflow:hidden !important;width:24px !important;height:24px !important}.lp_tablet #lpChat .lp_minimize-icon.lp_icon-white img,.lp_mobile #lpChat .lp_minimize-icon.lp_icon-white img{top:-40px !important;left:-600px !important}.lp_tablet #lpChat .lp_minimize-icon img,.lp_mobile #lpChat .lp_minimize-icon img{top:0 !important;left:-600px !important;position:absolute !important}.lp_tablet #lpChat .lp_maximize-icon,.lp_mobile #lpChat .lp_maximize-icon{position:relative !important;display:inline-block;vertical-align:middle;overflow:hidden !important;width:24px !important;height:24px !important}.lp_tablet #lpChat .lp_maximize-icon.lp_icon-white img,.lp_mobile #lpChat .lp_maximize-icon.lp_icon-white img{top:-40px !important;left:-960px !important}.lp_tablet #lpChat .lp_maximize-icon img,.lp_mobile #lpChat .lp_maximize-icon img{top:0 !important;left:-960px !important;position:absolute !important}.lp_tablet #lpChat .lp_close,.lp_tablet #lpChat .lp_minimize,.lp_tablet #lpChat .lp_maximize,.lp_tablet #lpChat .lp_popout,.lp_tablet #lpChat .lp_actions_button,.lp_tablet #lpChat .lp_slider,.lp_mobile #lpChat .lp_close,.lp_mobile #lpChat .lp_minimize,.lp_mobile #lpChat .lp_maximize,.lp_mobile #lpChat .lp_popout,.lp_mobile #lpChat .lp_actions_button,.lp_mobile #lpChat .lp_slider{width:24px;height:24px}#lpChat button:focus,#lpChat input:focus,#lpChat textarea:focus,#lpChat select:focus,#lpChat a:focus{outline:#6A9FB1 solid 2px}.lp_mobile #lpChat,.lp_tablet #lpChat,.lp_desktop #lpChat{font-family:\"Arial\"}.lp_mobile #lpChat>.lp_buffer-strip,.lp_tablet #lpChat>.lp_buffer-strip,.lp_desktop #lpChat>.lp_buffer-strip{display:none}.lp_mobile #lpChat .lp_centerd_img,.lp_tablet #lpChat .lp_centerd_img,.lp_desktop #lpChat .lp_centerd_img{position:absolute;margin:auto;top:0;left:0;right:0;bottom:0}.lp_mobile #lpChat table.lp_centralizer,.lp_tablet #lpChat table.lp_centralizer,.lp_desktop #lpChat table.lp_centralizer{height:100%;width:100%}.lp_mobile #lpChat table.lp_centralizer td,.lp_tablet #lpChat table.lp_centralizer td,.lp_desktop #lpChat table.lp_centralizer td{text-align:center;vertical-align:middle}.lp_mobile #lpChat .lp_rotator-container,.lp_tablet #lpChat .lp_rotator-container,.lp_desktop #lpChat .lp_rotator-container{position:relative;display:inline-block;width:100px;height:100px}.lp_mobile #lpChat .lp_rotator-container .lp_rotator-container-bg,.lp_tablet #lpChat .lp_rotator-container .lp_rotator-container-bg,.lp_desktop #lpChat .lp_rotator-container .lp_rotator-container-bg{position:absolute;top:0;right:0;bottom:0;left:0;background-color:transparent;opacity:0.92;border-radius:10px}.lp_mobile #lpChat .lp_rotator-container .lp_rotator,.lp_tablet #lpChat .lp_rotator-container .lp_rotator,.lp_desktop #lpChat .lp_rotator-container .lp_rotator{padding-top:12px;text-align:center;position:absolute;top:0;right:0;bottom:0;left:0}.lp_mobile #lpChat>.lp_minimized .lp_header,.lp_tablet #lpChat>.lp_minimized .lp_header,.lp_desktop #lpChat>.lp_minimized .lp_header,.lp_mobile #lpChat>.lp_maximized .lp_header,.lp_tablet #lpChat>.lp_maximized .lp_header,.lp_desktop #lpChat>.lp_maximized .lp_header{border-color:#d6d6d6;border-width:1px;border-style:solid;font-size:1.1em;z-index:2;width:100%;position:absolute}.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper{width:100%;height:100%}.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_title,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_title,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_title,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_title,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_title,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_title{direction:ltr}.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_title>*,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_title>*,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_title>*,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_title>*,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_title>*,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_title>*{vertical-align:middle}.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_title .lp_top-text,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_title .lp_top-text,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_title .lp_top-text,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_title .lp_top-text,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_title .lp_top-text,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_title .lp_top-text{overflow:hidden;text-overflow:ellipsis;display:inline-block;margin-left:8px;max-width:150px;white-space:nowrap}.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_title .lp_chatting-with-icon.lpHide ~ .lp_top-text,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_title .lp_chatting-with-icon.lpHide ~ .lp_top-text,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_title .lp_chatting-with-icon.lpHide ~ .lp_top-text,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_title .lp_chatting-with-icon.lpHide ~ .lp_top-text,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_title .lp_chatting-with-icon.lpHide ~ .lp_top-text,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_title .lp_chatting-with-icon.lpHide ~ .lp_top-text{margin-left:0}.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_close.lp_hidden,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_close.lp_hidden,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_close.lp_hidden,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_minimize.lp_hidden,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_minimize.lp_hidden,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_minimize.lp_hidden,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_maximize.lp_hidden,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_maximize.lp_hidden,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_maximize.lp_hidden,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_popout.lp_hidden,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_popout.lp_hidden,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_popout.lp_hidden,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_slider.lp_hidden,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_slider.lp_hidden,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_slider.lp_hidden,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_refresh.lp_hidden,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_refresh.lp_hidden,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_refresh.lp_hidden,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon.lp_hidden,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon.lp_hidden,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon.lp_hidden,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_close.lp_hidden,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_close.lp_hidden,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_close.lp_hidden,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_minimize.lp_hidden,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_minimize.lp_hidden,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_minimize.lp_hidden,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_maximize.lp_hidden,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_maximize.lp_hidden,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_maximize.lp_hidden,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_popout.lp_hidden,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_popout.lp_hidden,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_popout.lp_hidden,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_slider.lp_hidden,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_slider.lp_hidden,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_slider.lp_hidden,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_refresh.lp_hidden,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_refresh.lp_hidden,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_refresh.lp_hidden,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon.lp_hidden,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon.lp_hidden,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon.lp_hidden{display:none !important}.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_close:disabled,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_close:disabled,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_close:disabled,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_minimize:disabled,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_minimize:disabled,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_minimize:disabled,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_maximize:disabled,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_maximize:disabled,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_maximize:disabled,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_popout:disabled,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_popout:disabled,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_popout:disabled,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_slider:disabled,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_slider:disabled,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_slider:disabled,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_refresh:disabled,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_refresh:disabled,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_refresh:disabled,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon:disabled,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon:disabled,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon:disabled,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_close:disabled,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_close:disabled,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_close:disabled,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_minimize:disabled,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_minimize:disabled,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_minimize:disabled,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_maximize:disabled,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_maximize:disabled,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_maximize:disabled,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_popout:disabled,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_popout:disabled,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_popout:disabled,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_slider:disabled,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_slider:disabled,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_slider:disabled,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_refresh:disabled,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_refresh:disabled,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_refresh:disabled,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon:disabled,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon:disabled,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon:disabled{cursor:default}.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_close:disabled img,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_close:disabled img,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_close:disabled img,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_minimize:disabled img,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_minimize:disabled img,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_minimize:disabled img,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_maximize:disabled img,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_maximize:disabled img,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_maximize:disabled img,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_popout:disabled img,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_popout:disabled img,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_popout:disabled img,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_slider:disabled img,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_slider:disabled img,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_slider:disabled img,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_refresh:disabled img,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_refresh:disabled img,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_refresh:disabled img,.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon:disabled img,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon:disabled img,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon:disabled img,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_close:disabled img,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_close:disabled img,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_close:disabled img,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_minimize:disabled img,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_minimize:disabled img,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_minimize:disabled img,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_maximize:disabled img,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_maximize:disabled img,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_maximize:disabled img,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_popout:disabled img,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_popout:disabled img,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_popout:disabled img,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_slider:disabled img,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_slider:disabled img,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_slider:disabled img,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_refresh:disabled img,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_refresh:disabled img,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_refresh:disabled img,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon:disabled img,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon:disabled img,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_chatting-with-icon:disabled img{opacity:0.5}.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper button,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper button,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper button,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper button,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper button,.lp_desktop #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper button{padding:0;background:none;border:none;position:absolute;cursor:pointer}.lp_mobile #lpChat>.lp_minimized .lp_header.lp_slider,.lp_tablet #lpChat>.lp_minimized .lp_header.lp_slider,.lp_desktop #lpChat>.lp_minimized .lp_header.lp_slider,.lp_mobile #lpChat>.lp_maximized .lp_header.lp_slider,.lp_tablet #lpChat>.lp_maximized .lp_header.lp_slider,.lp_desktop #lpChat>.lp_maximized .lp_header.lp_slider{position:absolute;width:22px;height:22px;top:5px;left:5px}.lp_mobile #lpChat>.lp_minimized>.lp_main,.lp_tablet #lpChat>.lp_minimized>.lp_main,.lp_desktop #lpChat>.lp_minimized>.lp_main,.lp_mobile #lpChat>.lp_maximized>.lp_main,.lp_tablet #lpChat>.lp_maximized>.lp_main,.lp_desktop #lpChat>.lp_maximized>.lp_main{padding:0;z-index:1;height:100%;width:100%;position:absolute;right:0;bottom:0}.lp_mobile #lpChat>.lp_minimized>.lp_main .lp_wait,.lp_tablet #lpChat>.lp_minimized>.lp_main .lp_wait,.lp_desktop #lpChat>.lp_minimized>.lp_main .lp_wait,.lp_mobile #lpChat>.lp_maximized>.lp_main .lp_wait,.lp_tablet #lpChat>.lp_maximized>.lp_main .lp_wait,.lp_desktop #lpChat>.lp_maximized>.lp_main .lp_wait{position:absolute;top:0;bottom:0;left:0;right:0}.lp_mobile #lpChat>.lp_minimized>.lp_main .lp_wait table,.lp_tablet #lpChat>.lp_minimized>.lp_main .lp_wait table,.lp_desktop #lpChat>.lp_minimized>.lp_main .lp_wait table,.lp_mobile #lpChat>.lp_maximized>.lp_main .lp_wait table,.lp_tablet #lpChat>.lp_maximized>.lp_main .lp_wait table,.lp_desktop #lpChat>.lp_maximized>.lp_main .lp_wait table{height:100%;width:100%}.lp_mobile #lpChat>.lp_minimized>.lp_main .lp_wait table td,.lp_tablet #lpChat>.lp_minimized>.lp_main .lp_wait table td,.lp_desktop #lpChat>.lp_minimized>.lp_main .lp_wait table td,.lp_mobile #lpChat>.lp_maximized>.lp_main .lp_wait table td,.lp_tablet #lpChat>.lp_maximized>.lp_main .lp_wait table td,.lp_desktop #lpChat>.lp_maximized>.lp_main .lp_wait table td{text-align:center;vertical-align:middle}.lp_mobile #lpChat>.lp_minimized>.lp_main>.lp_message,.lp_tablet #lpChat>.lp_minimized>.lp_main>.lp_message,.lp_desktop #lpChat>.lp_minimized>.lp_main>.lp_message,.lp_mobile #lpChat>.lp_maximized>.lp_main>.lp_message,.lp_tablet #lpChat>.lp_maximized>.lp_main>.lp_message,.lp_desktop #lpChat>.lp_maximized>.lp_main>.lp_message{text-align:center;width:100%;height:100%}.lp_mobile #lpChat>.lp_minimized>.lp_main>.lp_message img[src=\"\"],.lp_tablet #lpChat>.lp_minimized>.lp_main>.lp_message img[src=\"\"],.lp_desktop #lpChat>.lp_minimized>.lp_main>.lp_message img[src=\"\"],.lp_mobile #lpChat>.lp_maximized>.lp_main>.lp_message img[src=\"\"],.lp_tablet #lpChat>.lp_maximized>.lp_main>.lp_message img[src=\"\"],.lp_desktop #lpChat>.lp_maximized>.lp_main>.lp_message img[src=\"\"]{display:none}.lp_mobile #lpChat>.lp_minimized>.lp_main>.lp_message .lp_text,.lp_tablet #lpChat>.lp_minimized>.lp_main>.lp_message .lp_text,.lp_desktop #lpChat>.lp_minimized>.lp_main>.lp_message .lp_text,.lp_mobile #lpChat>.lp_maximized>.lp_main>.lp_message .lp_text,.lp_tablet #lpChat>.lp_maximized>.lp_main>.lp_message .lp_text,.lp_desktop #lpChat>.lp_maximized>.lp_main>.lp_message .lp_text{padding:10px 4px 0 4px;text-align:center}.lp_mobile #lpChat>.lp_minimized>.lp_main>.lp_message .lp_text:empty,.lp_tablet #lpChat>.lp_minimized>.lp_main>.lp_message .lp_text:empty,.lp_desktop #lpChat>.lp_minimized>.lp_main>.lp_message .lp_text:empty,.lp_mobile #lpChat>.lp_maximized>.lp_main>.lp_message .lp_text:empty,.lp_tablet #lpChat>.lp_maximized>.lp_main>.lp_message .lp_text:empty,.lp_desktop #lpChat>.lp_maximized>.lp_main>.lp_message .lp_text:empty{display:none}.lp_mobile #lpChat>.lp_maximized,.lp_tablet #lpChat>.lp_maximized,.lp_desktop #lpChat>.lp_maximized{border:1px solid #d6d6d6;border-radius:5px 5px 0 0;box-shadow:0px 0px 16px 3px rgba(0,0,0,0.2)}.lp_mobile #lpChat>.lp_maximized>.lp_header,.lp_tablet #lpChat>.lp_maximized>.lp_header,.lp_desktop #lpChat>.lp_maximized>.lp_header{cursor:move}.lp_mobile #lpChat>.lp_maximized>.lp_main,.lp_tablet #lpChat>.lp_maximized>.lp_main,.lp_desktop #lpChat>.lp_maximized>.lp_main{background-color:#ffffff}.lp_mobile #lpChat>.lp_maximized.lp_external-window,.lp_tablet #lpChat>.lp_maximized.lp_external-window,.lp_desktop #lpChat>.lp_maximized.lp_external-window{border-radius:0;position:fixed;left:0;right:0;bottom:0;top:0;width:100%;height:100%;overflow:hidden}.lp_mobile #lpChat>.lp_maximized.lp_external-window>.lp_header,.lp_tablet #lpChat>.lp_maximized.lp_external-window>.lp_header,.lp_desktop #lpChat>.lp_maximized.lp_external-window>.lp_header{cursor:default}.lp_mobile #lpChat>.lp_maximized.lp_external-window>.lp_header .lp_header-content-wrapper .lp_minimize,.lp_tablet #lpChat>.lp_maximized.lp_external-window>.lp_header .lp_header-content-wrapper .lp_minimize,.lp_desktop #lpChat>.lp_maximized.lp_external-window>.lp_header .lp_header-content-wrapper .lp_minimize{display:none}.lp_mobile #lpChat>.lp_maximized>.lp_header,.lp_tablet #lpChat>.lp_maximized>.lp_header,.lp_desktop #lpChat>.lp_maximized>.lp_header{border-radius:5px 5px 0 0;background-color:#f0f0f0}.lp_mobile #lpChat>.lp_minimized,.lp_tablet #lpChat>.lp_minimized,.lp_desktop #lpChat>.lp_minimized{border-radius:5px 5px 0 0}.lp_mobile #lpChat>.lp_minimized .lp_header,.lp_tablet #lpChat>.lp_minimized .lp_header,.lp_desktop #lpChat>.lp_minimized .lp_header{border-radius:5px 5px 0 0;background-color:#f0f0f0;box-shadow:0px 0px 16px 3px rgba(0,0,0,0.2);height:100%}.lp_mobile #lpChat>.lp_minimized .lp_header .lp_title,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_title,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_title{color:#000000;width:100%;padding:10px 0 0 9px;text-align:left}.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper{border-radius:inherit}.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper>div,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper>div,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper>div{border-radius:inherit}.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper{text-align:center;display:table;border-collapse:collapse}.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper>*,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper>*,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper>*,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper>*{vertical-align:middle;display:table-cell}.lp_mobile #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_header-buttons-container,.lp_tablet #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_header-buttons-container,.lp_mobile #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_header-buttons-container,.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_header-buttons-container{display:table}.lp_mobile #lpChat>.lp_buffer-strip,.lp_tablet #lpChat>.lp_buffer-strip{position:fixed;opacity:0.95;bottom:0;left:0;right:0}.lp_mobile #lpChat>.lp_buffer-strip .lp_buffer-strip-container,.lp_tablet #lpChat>.lp_buffer-strip .lp_buffer-strip-container{width:100%;height:100%}.lp_mobile #lpChat>.lp_maximized,.lp_tablet #lpChat>.lp_maximized{z-index:99999999;opacity:0.95;position:fixed;top:0;right:0;bottom:0;left:0;border-radius:0}.lp_mobile #lpChat>.lp_maximized>.lp_header,.lp_tablet #lpChat>.lp_maximized>.lp_header{direction:ltr;height:8%;min-height:40px}.lp_mobile #lpChat>.lp_maximized>.lp_header .lp_title,.lp_tablet #lpChat>.lp_maximized>.lp_header .lp_title{width:100%;text-align:center}.lp_mobile #lpChat>.lp_maximized>.lp_header .lp_title .lp_top-text,.lp_tablet #lpChat>.lp_maximized>.lp_header .lp_title .lp_top-text{text-align:center}.lp_mobile #lpChat>.lp_maximized>.lp_header button,.lp_tablet #lpChat>.lp_maximized>.lp_header button{top:0;right:0;height:100%;width:40px;text-align:center;position:absolute}.lp_mobile #lpChat>.lp_maximized>.lp_header button.lp_popout,.lp_tablet #lpChat>.lp_maximized>.lp_header button.lp_popout{display:none}.lp_mobile #lpChat>.lp_maximized>.lp_header button.lp_close,.lp_tablet #lpChat>.lp_maximized>.lp_header button.lp_close{right:0}.lp_mobile #lpChat>.lp_maximized>.lp_header button.lp_minimize,.lp_tablet #lpChat>.lp_maximized>.lp_header button.lp_minimize{right:auto;left:0}.lp_mobile #lpChat>.lp_maximized>.lp_main,.lp_tablet #lpChat>.lp_maximized>.lp_main{height:92%}.lp_mobile #lpChat>.lp_minimized,.lp_tablet #lpChat>.lp_minimized{position:fixed;z-index:99999999;top:50%;margin-top:-96px;right:0;min-width:40px;min-height:192px;height:33%;border-radius:5px 0 0 5px}.lp_mobile #lpChat>.lp_minimized.lp_top-left,.lp_tablet #lpChat>.lp_minimized.lp_top-left{top:5%;right:auto;left:0;-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.lp_mobile #lpChat>.lp_minimized.lp_top-left .lp_notification_number,.lp_tablet #lpChat>.lp_minimized.lp_top-left .lp_notification_number{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.lp_mobile #lpChat>.lp_minimized.lp_top-right,.lp_tablet #lpChat>.lp_minimized.lp_top-right{top:5%}.lp_mobile #lpChat>.lp_minimized.lp_bottom-right,.lp_tablet #lpChat>.lp_minimized.lp_bottom-right{top:62%}.lp_mobile #lpChat>.lp_minimized.lp_bottom-left,.lp_tablet #lpChat>.lp_minimized.lp_bottom-left{top:62%;right:auto;left:0;-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.lp_mobile #lpChat>.lp_minimized.lp_bottom-left .lp_notification_number,.lp_tablet #lpChat>.lp_minimized.lp_bottom-left .lp_notification_number{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.lp_mobile #lpChat>.lp_minimized.lp_middle-left,.lp_tablet #lpChat>.lp_minimized.lp_middle-left{top:30%;right:auto;left:0;-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.lp_mobile #lpChat>.lp_minimized.lp_middle-left .lp_notification_number,.lp_tablet #lpChat>.lp_minimized.lp_middle-left .lp_notification_number{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.lp_mobile #lpChat>.lp_minimized>.lp_main,.lp_tablet #lpChat>.lp_minimized>.lp_main{height:100%}.lp_mobile #lpChat>.lp_minimized>.lp_main>.lp_header,.lp_tablet #lpChat>.lp_minimized>.lp_main>.lp_header{direction:ltr;border-radius:5px 0 0 5px}.lp_mobile #lpChat>.lp_minimized>.lp_main>.lp_header button,.lp_tablet #lpChat>.lp_minimized>.lp_main>.lp_header button{width:100%;text-align:center}.lp_mobile #lpChat>.lp_minimized>.lp_main>.lp_header button.lp_close,.lp_tablet #lpChat>.lp_minimized>.lp_main>.lp_header button.lp_close{padding-top:8px}.lp_mobile #lpChat>.lp_minimized>.lp_main>.lp_header button.lp_maximize,.lp_tablet #lpChat>.lp_minimized>.lp_main>.lp_header button.lp_maximize{margin:31px 0 0 3px;padding:4px 0 10px 0;width:84%;-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg);outline:none}.lp_mobile #lpChat>.lp_minimized>.lp_main>.lp_header .lp_title,.lp_tablet #lpChat>.lp_minimized>.lp_main>.lp_header .lp_title{padding:0;position:absolute;top:63%;left:-30px;width:100px;white-space:nowrap;-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.lp_mobile #lpChat>.lp_minimized>.lp_main>.lp_header .lp_title .lp_top-text,.lp_tablet #lpChat>.lp_minimized>.lp_main>.lp_header .lp_title .lp_top-text{max-width:94px}.lp_desktop #lpChat{font-size:13px}.lp_desktop #lpChat>*{width:280px;z-index:99999999;position:fixed;right:20px;bottom:0}.lp_desktop #lpChat>* .lp_header{height:36px;padding:0px 5px}.lp_desktop #lpChat>* .lp_header button{z-index:99999999;top:6px}.lp_desktop #lpChat>.lp_maximized{height:400px}.lp_desktop #lpChat>.lp_maximized>.lp_header .lp_title{float:left;padding-top:9px;padding-left:3px}.lp_desktop #lpChat>.lp_maximized>.lp_header .lp_header-content-wrapper .lp_header-buttons-container{float:right;direction:ltr !important;font-size:0}.lp_desktop #lpChat>.lp_maximized>.lp_header .lp_header-content-wrapper button{position:relative}.lp_desktop #lpChat>.lp_maximized>.lp_header .lp_header-content-wrapper button.lp_close,.lp_desktop #lpChat>.lp_maximized>.lp_header .lp_header-content-wrapper button.lp_minimize{display:inline-block}.lp_desktop #lpChat>.lp_maximized>.lp_header .lp_header-content-wrapper .lp_slider{position:absolute;left:5px;top:5px;width:22px;height:22px}.lp_desktop #lpChat>.lp_maximized>.lp_header .lp_header-content-wrapper .lp_slider_gap{margin-left:20px}.lp_desktop #lpChat>.lp_maximized>.lp_main{height:auto;top:36px}.lp_desktop #lpChat>.lp_maximized.lp_external-window{border-radius:0;position:absolute;left:0;right:0;bottom:0;top:0;width:100%;height:100%;margin:0 auto;max-width:600px}.lp_desktop #lpChat>.lp_maximized.lp_external-window>.lp_header .lp_close,.lp_desktop #lpChat>.lp_maximized.lp_external-window>.lp_header .lp_minimize{display:none}.lp_desktop #lpChat>.lp_minimized{height:36px}.lp_desktop #lpChat>.lp_minimized .lp_header .lp_title{float:left;padding-top:9px;padding-left:7px;width:auto}.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper .lp_header-buttons-container{float:right;direction:ltr !important;font-size:0}.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper button{position:relative}.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper button.lp_close,.lp_desktop #lpChat>.lp_minimized .lp_header .lp_header-content-wrapper button.lp_maximize{display:inline-block}.lp_desktop #lpChat>.lp_minimized>.lp_main{width:100%;height:100%}.lp_desktop #lpChat .lp_maximized .lp_notification_number.wsdkNotification{text-align:center;display:table;border-collapse:collapse;width:100%;height:100%;cursor:default;float:left;overflow:visible;border-radius:50%;background-color:#ed1c24;width:20px;height:20px;font-size:0.7em;z-index:1000;margin:7px 8px 0 25px;text-indent:-1px}.lp_desktop #lpChat .lp_maximized .lp_notification_number.wsdkNotification>*{vertical-align:middle;display:table-cell}.lp_desktop #lpChat .lp_maximized .lp_notification_number.wsdkNotification .lp_notification_text{text-align:center;color:white;border-radius:inherit}.lp_mobile #lpChat{font-size:14px}.lp_mobile #lpChat .lp_maximized .lp_header .lp_slider{left:40px}.lp_mobile #lpChat .lp_maximized .lp_notification_number.wsdkNotification{text-align:center;display:table;border-collapse:collapse;width:100%;height:100%;cursor:default;float:left;overflow:visible;border-radius:50%;background-color:#ed1c24;width:20px;height:20px;font-size:0.7em;margin:7px 8px 0 32px;z-index:1000;text-indent:-1px;position:absolute;left:50px;top:7px}.lp_mobile #lpChat .lp_maximized .lp_notification_number.wsdkNotification>*{vertical-align:middle;display:table-cell}.lp_mobile #lpChat .lp_maximized .lp_notification_number.wsdkNotification .lp_notification_text{top:4px;position:absolute;width:20px;height:20px;text-align:center;color:white;border-radius:inherit}.lp_tablet #lpChat{font-size:18px}.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_title .lp_top-text{max-width:250px}.lp_tablet #lpChat>.lp_maximized .lp_header .lp_header-content-wrapper .lp_slider{left:40px}.lp_tablet #lpChat .lp_maximized .lp_notification_number.wsdkNotification{text-align:center;display:table;border-collapse:collapse;width:100%;height:100%;cursor:default;float:left;overflow:visible;border-radius:50%;background-color:#ed1c24;width:25px;height:25px;font-size:0.6em;margin:7px 8px 0 27px;z-index:1000;text-indent:-1px;position:absolute;left:55px;top:18px}.lp_tablet #lpChat .lp_maximized .lp_notification_number.wsdkNotification>*{vertical-align:middle;display:table-cell}.lp_tablet #lpChat .lp_maximized .lp_notification_number.wsdkNotification .lp_notification_text{position:absolute;width:25px;height:25px;top:5px;text-align:center;color:white;border-radius:inherit}.lp_mobile.lp_landscape #lpChat>.lp_maximized .lp_header,.lp_tablet.lp_landscape #lpChat>.lp_maximized .lp_header{display:none !important}.lp_mobile.lp_landscape #lpChat>.lp_maximized>.lp_main,.lp_tablet.lp_landscape #lpChat>.lp_maximized>.lp_main{padding-top:0;top:0;height:100%}.lp_mobile.lp_landscape #lpChat>.lp_minimized.lp_bottom-right{top:45%}.lp_mobile.lp_landscape #lpChat>.lp_minimized.lp_bottom-left{top:45%}',{\nid:Ae.STYLE_TAG_ID})}function Z(e){var t=document.createElement(\"iframe\");e.appendChild(t);return t.contentWindow.document}function Q(){clearTimeout(ke)}function $(e){var t=Ae.WRAPPER_DIV_CSS_CLASS_PREFIX;if(e.landscape){Re.removeClass(de,t+Ae.PORTRAIT_CSS_CLASS);Re.addClass(de,t+Ae.LANDSCAPE_CSS_CLASS)}else{Re.removeClass(de,t+Ae.LANDSCAPE_CSS_CLASS);Re.addClass(de,t+Ae.PORTRAIT_CSS_CLASS)}}function ee(){Re.addClass(me,Ae.EXTERNAL_CSS_CLASS)}function te(e){document.documentElement.setAttribute(\"lang\",e)}var ie,le,pe,ae,ne,oe,re,de,_e,se,me,ce,he,ue,ge,fe,be,Ce,we,xe,ze,ve,Se,ye,ke,Te,Ee=\"WrapperWindow\",Ie=lpTag.unifiedWindow,Ae={STYLE_TAG_ID:\"lpChatStyle\",WRAPPER_DIV_ID:\"lpChat\",WRAPPER_DIV_CSS_CLASS_PREFIX:\"lp_\",MOBILE_CSS_CLASS:\"mobile\",TABLET_CSS_CLASS:\"tablet\",DESKTOP_CSS_CLASS:\"desktop\",ANDROID_CSS_CLASS:\"android\",IOS_CSS_CLASS:\"ios\",IOS6_CSS_CLASS:\"ios6\",IOS8_OR_ABOVE_CSS_CLASS:\"ios8_or_above\",MAC_OSX_CSS_CLASS:\"mac_osx\",NATIVE_CSS_CLASS:\"native_android\",EXTERNAL_CSS_CLASS:\"lp_external-window\",PORTRAIT_CSS_CLASS:\"portrait\",LANDSCAPE_CSS_CLASS:\"landscape\",MINIMIZED_VIEW_IFRAME_RENDERING:!1,MAXIMIZED_VIEW_IFRAME_RENDERING:!1,WAIT_INDICATION_DELAY:250},Ne=Ie.language,Re=lpTag.taglets.lpUtil,Oe=Ie.log,De={CONNECTION_UNAVAILABLE:{title:Ne.getString(\"couldNotConnect\"),imgUrl:\"connect-error-dark.png\",text:Ne.getString(\"connectionUnavailable\"),error:!0},RIP:{title:Ne.getString(\"error\"),imgUrl:\"connect-error-dark.png\",text:Ne.getString(\"chatEndedOnExternalWindow\"),error:!0},EXTERNAL_OPEN:{title:Ne.getString(\"error\"),imgUrl:\"connect-error-dark.png\",text:Ne.getString(\"externalWindowOpen\"),error:!0},UNSUPPORTED:{title:Ne.getString(\"error\"),imgUrl:\"connect-error-dark.png\",text:Ne.getString(\"unsupportedBrowserMode\"),error:!0},IN_SESSION:{title:Ne.getString(\"error\"),imgUrl:\"connect-error-dark.png\",text:Ne.getString(\"cannotResumeChat\"),error:!0},AUTH_ERROR:{title:Ne.getString(\"error\"),imgUrl:\"thank-you-dark.png\",text:Ne.getString(\"chatAuthError\"),error:!0},SESSION_EXPIRED:{title:Ne.getString(\"sessionExpired\"),imgUrl:\"embedded-error.png\",text:Ne.getString(\"sessionError\"),error:!0},WAIT:{title:Ne.getString(\"loading\"),imgUrl:\"loader_on_warmGray5_75.gif\",imgAltText:Ne.getString(\"loading\")}},Le=!1,We=!1;oe=Re.objectKeys(De);var Pe={isMaximized:!0};U(e,t,i,l);return{render:m,show:_,hide:s,message:r,removeMessage:R,unbindDomEvents:A,setTitle:d,Messages:oe,getMinimizedElement:h,getBufferStripElement:u,getMaximizedElement:g,getMainWindowElement:c,getChatWrapperElement:f,getSliderButton:b,getWidgetNotificationContainer:C,getWidgetNotificationText:w,getTitleDiv:x,getChattingWIthIcon:z,dispose:y,showClose:v,showMinimized:S,getIconRepository:O}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.defaultDictionary={error:\"Error\",couldNotConnect:\"Oops - unable to connect.\",tryAgain:\"Try again\",loadingOnMinimize:\"Loading\",loading:\"Loading\",unableToConnect:\"Unable to connect\",reconnect:\"Trying to reconnect\",chatEndedOnExternalWindow:\"Close window in order to start new chat\",externalWindowOpen:\"You have an ongoing chat. Return to that window to continue the chat.\",unsupportedBrowserMode:\"Your browser may be in incognito mode, or it may be blocking third party cookies. Please open a regular browser session to chat, or check your browser privacy settings\",cannotResumeChat:\"Resume chat from the tab where the interaction began\",chatAuthError:\"You are no longer authenticated. Log in again to view the conversation.\",connectionUnavailable:\"Connection unavailable\",sessionExpired:\"Session expired\",sessionError:\"Your session has expired. Please close this window and start a new conversation in order to resume.\",tooltip_Close:\"Close\",tooltip_Minimize:\"Minimize\",tooltip_open_widgets:\"Open widgets\",tooltip_close_widgets:\"Close widgets\",tooltip_refresh_slider:\"Refresh\"};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.taglets.lpUnifiedWindow=lpTag.taglets.lpUnifiedWindow||function(){function e(e){var i;ae.setLogLevel(\"DEBUG\");e&&e.constructor===Array?ne.convertConfig(e,_e):_e=e||_e;G=new lpTag.unifiedWindow.helpers.ApplicationHelper({lpTag:lpTag,utils:lpTag.taglets.lpUtil});E(_e);ae.init({debug:_e.debug});ae.info(\"init\",ie);H=window.lpTag.taglets.lpSecureStorage;K=new pe.DeviceDetector;I(_e,re);J=new pe.BrowserStateManager(K);V=new lpTag.unifiedWindow.Events({eventBufferLimit:0,cloneEventData:!1});ae.info(\"init: initial configuration: \"+JSON.stringify(_e),ie);o();N();i=t(_e);i?A(i,!0):H.configure({debug:_e.debug,unifiedWindow:{site:_e.accountId,asyncStorageMaxRetry:15,url:_e.secureStorageLocation,initialStorageType:_e.initialStorageType||X.getSessionSelectedStorage(),force:!0,chosenStorageHandler:a}})}function t(e){var t;e.invalidAuthConnector?t=q.Messages.SESSION_EXPIRED:e.JsLoadingFailure?t=q.Messages.CONNECTION_UNAVAILABLE:\"#RIP\"===window.location.hash&&(t=q.Messages.RIP);return t}function i(e){ae.info(\"started flow: \"+JSON.stringify(e),ie);e.redirect||\"undefined\"!=typeof _e.embeddedSupported?l(e):_e.startedEngConf=e}function l(e){ae.info(\"clicked: \"+JSON.stringify(e),ie);if(pe.Application&&Q&&Q.methods&&!Q.methods.isDisposed())V.trigger({appName:ie,eventName:\"maximize\"});else if(J.isConnected()){Q&&Q.methods&&Q.methods.isDisposed()&&j();if(_e.browserModeUnSupported){A(q.Messages.UNSUPPORTED,!0);return}if(d(e))r(e);else{o();B.getState(f(e),f(e))}}else A(q.Messages.CONNECTION_UNAVAILABLE)}function p(){ae.info(\"inspect\",ie);return{conf:_e}}function a(e){\"object\"!=typeof e?_e.secureStorageType=e:e&&e.error&&(_e.browserModeUnSupported=!0);F=e;_e.popoutSupported=_e.secureStorageType&&_e.secureStorageType!==H.storageTypes.SESSIONSTORAGE&&J.visibilitySupported();_e.embeddedSupported=!!_e.secureStorageType;m()}function n(){return F}function o(){q||(q=new pe.WrapperWindow(_e,K,J));X||(X=new pe.SessionManager({getSelectedStorage:n,accountId:_e.accountId,sessionId:_e.sessionId,external:_e.external,events:V,sessionTimeout:u(_e),echoedSessionTimeout:_e.sessionTimeout}));_e.sessionId=X.getSessionId();B||(B=new pe.StateAnalyzer({sessionId:_e.sessionId,accountId:_e.accountId,secureStorageLocation:_e.secureStorageLocation},X))}function r(e){ae.info(\"_openWindow\",ie);var t=\"menubar=no, location=no, resizable=false, scrollbars=no, status=yes, width=280px, height=400px, modal=true\",i=G.getExternalResourceURL(e,_e);e.redirect||s()&&_()?window.location.href=i:_e.openedExternal=window.open(i,e.target+\"POP\",t)}function d(e){return!_e.embeddedSupported||e.isPopOut||_()||G.isRecaptchaEnabled()}function _(){return!K.isMobileOptimized()&&!K.isDesktop()}function s(){return _e.startedEngConf}function m(){ae.info(\"_manage\",ie);B.getState(g,g)}function c(e,t,i){if(h()){ae.info(\"_clickStateCallback: external / popped out window is open\",ie);A(q.Messages.EXTERNAL_OPEN,!0)}else{_e.poppedOut&&(t=B.state.IN_SESSION);ee=t;switch(t){case B.state.INVALID:ae.info(\"_clickStateCallback: is INVALID state, nothing to do\",ie);A(q.Messages.IN_SESSION);return;case B.state.IN_SESSION:return{uiState:e};case B.state.NOT_STARTED:return i?{engConf:i}:void 0;case B.state.EXPIRED:M();return null}ae.error(\"_resolveProperStates: BUG - undefined state\",ie)}}function h(){if(_e.openedExternal){if(!_e.openedExternal.closed)return!0;_e.openedExternal=void 0;delete _e.openedExternal}return!1}function u(e){var t,i=K.getDeviceFamilyName().toLowerCase();t=e&&e.chatSessionTimeout&&e.chatSessionTimeout[i]?e.chatSessionTimeout[i]:K.isMobile()?ge.MOBILE:K.isTablet()?ge.TABLET:ge.DESKTOP;return t}function g(e,t){ae.info(\"_startStateCallback\",ie);var i=c(e,t);if(_e.external){i&&i.uiState&&i.uiState.chat&&i.uiState.chat.state===he&&(i.uiState={engConf:i.uiState.engConf});x(i||_e)}else i?J.isConnected()?x(i):A(q.Messages.CONNECTION_UNAVAILABLE):s()&&l(_e.startedEngConf)}function f(e){return function(t,i){ae.info(\"_clickStateCallback\",ie);var l=c(t,i,e);l&&x(l)}}function b(e){if(Z&&!0===me&&se&&!Q){var t={window:Z,unified:_e,uiState:e};ae.info(\"_loadingCompleted, config: \"+JSON.stringify(t),ie);X.refresh();Q=pe.Application(t,{applicationHelper:G,browserStateManager:J,sessionManager:X,deviceDetector:K,wrapperWindow:q,events:V})}else ae.info(\"_loadingCompleted: still missing data/files\",ie)}function C(e){ae.info(\"_createWindowConfigLoaded\",ie);return function(t){ae.info(\"_windowConfigLoaded\",ie);if(t&&!t.error){Z=t;b(e)}else{A(q.Messages.CONNECTION_UNAVAILABLE);ae.error(\"_windowConfigLoaded: Cannot load configuration\",ie)}}}function w(e){ae.info(\"_createAppLoaded\",ie);return function(t){ae.info(\"_appLoaded\",ie);if(t){A(q.Messages.CONNECTION_UNAVAILABLE);M();ae.error(\"_appLoaded: Cannot load application\",ie)}else{me=!0;b(e)}}}function x(e){ae.info(\"_startApplication\",ie);var t;if(e.uiState)t=e.uiState;else{t=ne.cloneExtend(re);t.engConf=e.engConf}q.render(t&&t.window,function(){se=!0;q.message(q.Messages.WAIT);b(t)},!0);var i={sessionId:_e.sessionId,accountId:_e.accountId,secureStorageLocation:_e.secureStorageLocation,domain:_e.acCdnDomain};t.engConf&&\"undefined\"!=typeof t.engConf.lewid&&(i.windowId=t.engConf.lewid);Y=new pe.WindowConfigurationManager(i);Y.getConf(C(t));k(w(t),t)}function z(e){var t={},i=e.async?\"/api/ams/UMSClientAPI.min.js\":\"/api/chat/lpChatV3.min.js\",l=K.getDeviceFamilyName().toLowerCase();pe.Application||(t=_e.loadObj||{framework:_e.codeRepository+\"/ui-framework.js\"+oe,api:\"https://\"+_e.leCdnDomain+i+oe,surveyLogic:\"https://\"+_e.leCdnDomain+\"/api/survey_logic/surveylogicinstance.min.js\"+oe,unified:{dependency:[\"framework\",\"api\",\"surveyLogic\"],url:_e.codeRepository+\"/\"+l+\"Embedded.js\"+oe}});if(_e.poppedOut||_e.external||d(e)){var p=lpTag.unifiedWindow.DomainHelper.getTagletDomainByEnv(_e.env);lpTag.ovr=lpTag.ovr||{tagjs:p};lpTag.debug=_e.debug?\"2\":\"1\"}e&&e.lang&&\"en-us\"!==e.lang.toLowerCase()&&(t.lang=_e.langRepository+\"/\"+e.lang+\".js\"+oe);_e.supportBlockCCPattern&&(_e.poppedOut||_e.external||d(e))&&S(\"cleanCCPatterns\",function(){ae.error(\"Error: Failed to load cleanCCPatterns taglet\",ie)});!d(e)&&G.isAuthenticatedEnabled(e)&&(t.xhr=_e.codeRepository+\"/xhr.js\"+oe);_e.widgetSDK&&(t.widgetSDK=v(e));return t}function v(e){ae.info(\"_getWidgetSDKUrl\",ie);var t;t=\"qa\"===e.env||_e.debug===!0?\"https://qtvr-wap11.dev.lprnd.net/unifiedwindow/widgetSDK.min.js\"+oe:\"https://\"+_e.leCdnDomain+\"/unifiedwindow/widgetSDK.min.js\"+oe;return t}function S(e,t){if(\"string\"==typeof e){te=te||[];te.push({name:e,error:t})}}function y(e,t){ae.info(\"_loadFramework, loading: \"+JSON.stringify(e),ie);if(ne.isEmpty(e)){ae.info(\"_loadFramework: Application exists, starting\",ie);ne.runCallback(t)}else{ae.info(\"_loadFramework: Loading files\",ie);lpTag.taglets.jsLoader.loadJS({loadObj:e,success:function(){ae.info(\"_loadFramework: Files loaded\",ie);ne.runCallback(t)},error:function(e){ae.error(\"_loadFramework: Error Loading files \"+JSON.stringify(e),ie);ne.runCallback(t,null,e||{})}})}}function k(e,t){ae.info(\"_loadFramework\",ie);var i=z(t.engConf);t&&t.window&&t.window.embedded===!1&&\"function\"==typeof lpTag.loadTaglets&&lpTag.loadTaglets(te);y(i,e)}function T(){var e=ne.getURLParams(window.location.search),t=e.lpVersion;return t&&_e.debug?\"/\"+t:le?\"/\"+le:\"\"}function E(e){ae.info(\"_setSiteAndDebug: \"+JSON.stringify(e),ie);e.accountId=\"\"+(e.accountId||lpTag.site);e.domain=lpTag.csds.getDomain(ue.ADMIN_AREA)||lpTag.csds.getDomain(ue.ALL);e.domain=\"hc1\"===e.domain?\"hc1.dev.lprnd.net\":e.domain;e.asyncMessagingDomain=lpTag.csds.getDomain(ue.ASYNC_MESSAGING);e.idpDomain=lpTag.csds.getDomain(ue.IDP);(e.debug||e.accountId&&0===e.accountId.indexOf(\"qa\")||e.domain&&0===e.domain.indexOf(\"hc1\"))&&(e.debug=!0)}function I(e,t){var i,l;ae.info(\"_initDefaultValues: \"+JSON.stringify({conf:e,data:t}),ie);e.leCdnDomain=e.leCdnDomain||lpTag.csds.getDomain(ue.LECDN);e.acCdnDomain=e.acCdnDomain||lpTag.csds.getDomain(ue.ACCDN);i=\"https://\"+e.leCdnDomain+\"/\";l=\"le_unified_window\"+T();e.codeRepository=i+(e.codeRepository?e.codeRepository:l);e.imagesRepository=i+(e.imagesRepository?e.imagesRepository:l+\"/resources\");e.iconsRepository=i+(e.iconsRepository?e.iconsRepository:l+\"/resources/icons\")+\"/\"+K.getDeviceFamilyName().toLowerCase();e.audioRepository=i+(e.audioRepository?e.audioRepository:l+\"/resources/audio\");e.langRepository=i+(e.langRepository?e.langRepository:l+\"/resources/i18n\");e.agentImageRepository=i+(e.agentImageRepository?e.agentImageRepository:l+\"/resources/agentImages\");e.secureStorageLocation=e.external?H.sessionStorageStaticDomain:e.secureStorageLocation||i+\"le_secure_storage/\";(K.isMobile()||K.isTablet())&&(t.position={right:0});t.window.embedded=!e.external;e.supportBlockCCPattern=e.supportBlockCCPattern||lpTag.taglets.cleanCCPatterns&&t.window.embedded}function A(e,t){$&&clearTimeout($);q.render(null,function(){q.message(e)});t||_e.poppedOut||_e.external||($=setTimeout(function(){q&&q.dispose()},ce))}function N(){J.on(J.EVENT_NAME.FOCUS_CHANGE,D);V.bind({appName:\"ChatStateManager\",eventName:\"ended\",func:M});V.bind({appName:\"Application\",eventName:\"appEnded\",func:j});V.bind({appName:\"*\",eventName:\"doHaraKiri(Seppuku)\",func:U});V.bind({appName:\"SessionManager\",eventName:\"sessionChanged\",func:L});V.bind({appName:\"ChatAPIV3\",eventName:\"error\",func:O});V.bind({appName:\"API\",eventName:\"error\",func:O});V.bind({appName:\"ChatStateManager\",eventName:\"startChatInfo\",func:R})}function R(e){if(e.chatTimeout){ae.info(\"_updateChatTimeout : updating configuration with echoed chatTimeout = \"+e.chatTimeout,ie);_e.sessionTimeout=e.chatTimeout}}function O(e){var t=q.Messages[e&&e.errorType]||q.Messages.CONNECTION_UNAVAILABLE;A(t,e&&e.keepError)}function D(e){if(e.focus&&ee===de){X=X||new pe.SessionManager({getSelectedStorage:n,accountId:_e.accountId,sessionTimeout:u(_e),echoedSessionTimeout:_e.sessionTimeout});var t=X.getSessionCookie();if(t&&t[0]&&\"null\"!==t[0]){X=null;o();B.getState(W,W)}}}function L(){ae.info(\"_analyzeStateOnSessionChanged\",ie);if(X){var e=X.getSessionCookie();if(e&&e[0]&&\"null\"!==e[0]){M(!0);o();B.getState(W,W)}else M()}}function W(e,t){ee=t;switch(t){case B.state.INVALID:ae.info(\"_clickStateCallback: is INVALID state, nothing to do\",ie);A(q.Messages.IN_SESSION);break;case B.state.IN_SESSION:P(e.engConf);break;case B.state.NOT_STARTED:j()}}function P(e){j();l(e)}function U(){ae.info(\"_seppuku\",ie);M();j()}function M(e){$&&clearTimeout($);ee=de;if(X){X.dispose(e);X=null}Z=null;if(Y){Y.clear();Y=null}_e.sessionId=null;delete _e.sessionId;B=null}function j(){me=!1;se=!1;if(Q){Q.methods.end();Q=null}q=null;V.trigger({appName:ie,eventName:\"windowClosed\",global:!0})}var V,H,F,B,G,q,J,K,X,Y,Z,Q,$,ee,te,ie=\"lpUnifiedWindow\",le=\"8.0.2.0-release_248\",pe=lpTag.unifiedWindow,ae=pe.log,ne=lpTag.taglets.lpUtil,oe=\"?version=\"+(le||(new Date).getTime().toString()),re={window:{maximized:!0,position:{right:\"20px\",bottom:0},sound:!0,notificationCount:0,actionsVisible:!1,embedded:!0}},de=3,_e={},se=!1,me=!1,ce=5e3,he=\"applicationEnded\",ue={ADMIN_AREA:\"adminArea\",ALL:\"ALL\",LECDN:\"leCdnDomain\",ACCDN:\"acCdnDomain\",ASYNC_MESSAGING:\"asyncMessaging\",IDP:\"idp\"},ge={DESKTOP:40,MOBILE:120,TABLET:120};return{v:le,name:ie,init:e,startFlow:i,clicked:l,inspect:p}}();window.lpTag=window.lpTag||{};lpTag.domainUtil=lpTag.domainUtil||function(){function e(e){e=\"\"+e;var t,a,n=null,o={top:null,country:null};e=i(e);t=e.split(\".\");if(t.length<3)return e;for(var r=t.length-1,d=r;d>-1;d--){p(t[d],o,d);if(null!==o.country&&null!==o.top)break}if(null!==o.top||null!==o.country){n=o.top;(null===n||null!==o.country&&o.country<n&&n-1===o.country)&&(n=o.country);a=n>0?n-1:n;return l(t.slice(a))}return e}function t(e){var t=i(e),l=new RegExp(/^[a-z]{1}[a-z+|\\d+|_+|\\-|.]+[a-z]{1}$/gi);return l.test(t)}function i(e,t){var i=new RegExp(/((?:http|ftp|ws){1}s{0,1}?:\\/\\/){0,1}([^\\/\\?/:]+)(\\/?)/gi),l=i.exec(e),p=null;if(l&&l.length>=3&&\"\"!==l[2]){p=l[2].toLowerCase();t&&(p=l[1]+p)}return p}function l(e){return e.join(\".\")}function p(e,t,i){e=\"\"+e;null===t.top&&(o.topLevelDomain[e]||o.customTopLevelDomain[e])?t.top=i:null===t.country&&o.countryTopLevelDomain[e]&&(t.country=i)}var a=\"1.1\",n=\"domainUtil\",o={customTopLevelDomain:{aero:\"aero\",asia:\"asia\",bike:\"bike\",biz:\"biz\",camera:\"camera\",cat:\"cat\",clothing:\"clothing\",coop:\"coop\",equipment:\"equipment\",estate:\"estate\",eus:\"eus\",gallery:\"gallery\",graphics:\"graphics\",guru:\"guru\",info:\"info\",\"int\":\"int\",holdings:\"holdings\",jobs:\"jobs\",lighting:\"lighting\",mobi:\"mobi\",museum:\"museum\",name:\"name\",photography:\"photography\",plumbing:\"plumbing\",post:\"post\",pro:\"pro\",singles:\"singles\",tel:\"tel\",travel:\"travel\",ventures:\"ventures\",xxx:\"xxx\"},topLevelDomain:{ac:\"ac\",co:\"co\",com:\"com\",edu:\"edu\",gov:\"gov\",mil:\"mil\",net:\"net\",org:\"org\"},countryTopLevelDomain:{ac:\"ac\",ad:\"ad\",ae:\"ae\",af:\"af\",ag:\"ag\",ai:\"ai\",al:\"al\",am:\"am\",an:\"an\",ao:\"ao\",aq:\"aq\",ar:\"ar\",as:\"as\",at:\"at\",au:\"au\",aw:\"aw\",ax:\"ax\",az:\"az\",ba:\"ba\",bb:\"bb\",bd:\"bd\",be:\"be\",bf:\"bf\",bg:\"bg\",bh:\"bh\",bi:\"bi\",bj:\"bj\",bm:\"bm\",bn:\"bn\",bo:\"bo\",bq:\"bq\",br:\"br\",bs:\"bs\",bt:\"bt\",bv:\"bv\",bw:\"bw\",by:\"by\",bz:\"bz\",bzh:\"bzh\",ca:\"ca\",cc:\"cc\",cd:\"cd\",cf:\"cf\",cg:\"cg\",ch:\"ch\",ci:\"ci\",ck:\"ck\",cl:\"cl\",cm:\"cm\",cn:\"cn\",co:\"co\",cr:\"cr\",cs:\"cs\",cu:\"cu\",cv:\"cv\",cw:\"cw\",cx:\"cx\",cy:\"cy\",cz:\"cz\",dd:\"dd\",de:\"de\",dj:\"dj\",dk:\"dk\",dm:\"dm\",\"do\":\"do\",dz:\"dz\",ec:\"ec\",ee:\"ee\",eg:\"eg\",eh:\"eh\",er:\"er\",es:\"es\",et:\"et\",eu:\"eu\",fi:\"fi\",fj:\"fj\",fk:\"fk\",fm:\"fm\",fo:\"fo\",fr:\"fr\",ga:\"ga\",gb:\"gb\",gd:\"gd\",ge:\"ge\",gf:\"gf\",gg:\"gg\",gh:\"gh\",gi:\"gi\",gl:\"gl\",gm:\"gm\",gn:\"gn\",gp:\"gp\",gq:\"gq\",gr:\"gr\",gs:\"gs\",gt:\"gt\",gu:\"gu\",gw:\"gw\",gy:\"gy\",hk:\"hk\",hm:\"hm\",hn:\"hn\",hr:\"hr\",ht:\"ht\",hu:\"hu\",id:\"id\",ie:\"ie\",il:\"il\",im:\"im\",\"in\":\"in\",io:\"io\",iq:\"iq\",ir:\"ir\",is:\"is\",it:\"it\",je:\"je\",jm:\"jm\",jo:\"jo\",jp:\"jp\",ke:\"ke\",kg:\"kg\",kh:\"kh\",ki:\"ki\",km:\"km\",kn:\"kn\",kp:\"kp\",kr:\"kr\",\"krd:\":\"krd\",kw:\"kw\",ky:\"ky\",kz:\"kz\",la:\"la\",lb:\"lb\",lc:\"lc\",li:\"li\",lk:\"lk\",lr:\"lr\",ls:\"ls\",lt:\"lt\",lu:\"lu\",lv:\"lv\",ly:\"ly\",ma:\"ma\",mc:\"mc\",md:\"md\",me:\"me\",mg:\"mg\",mh:\"mh\",mk:\"mk\",ml:\"ml\",mm:\"mm\",mn:\"mn\",mo:\"mo\",mp:\"mp\",mq:\"mq\",mr:\"mr\",ms:\"ms\",mt:\"mt\",mu:\"mu\",mv:\"mv\",mw:\"mw\",mx:\"mx\",my:\"my\",mz:\"mz\",na:\"na\",nc:\"nc\",ne:\"ne\",nf:\"nf\",ng:\"ng\",ni:\"ni\",nl:\"nl\",no:\"no\",np:\"np\",nr:\"nr\",nu:\"nu\",nz:\"nz\",om:\"om\",pa:\"pa\",pe:\"pe\",pf:\"pf\",pg:\"pg\",ph:\"ph\",pk:\"pk\",pl:\"pl\",pm:\"pm\",pn:\"pn\",pr:\"pr\",ps:\"ps\",pt:\"pt\",pw:\"pw\",py:\"py\",qa:\"qa\",re:\"re\",ro:\"ro\",rs:\"rs\",ru:\"ru\",rw:\"rw\",sa:\"sa\",sb:\"sb\",sc:\"sc\",sd:\"sd\",se:\"se\",sg:\"sg\",sh:\"sh\",si:\"si\",sj:\"sj\",sk:\"sk\",sl:\"sl\",sm:\"sm\",sn:\"sn\",so:\"so\",sr:\"sr\",ss:\"ss\",st:\"st\",su:\"su\",sv:\"sv\",sx:\"sx\",sy:\"sy\",sz:\"sz\",tc:\"tc\",td:\"td\",tf:\"tf\",tg:\"tg\",th:\"th\",tj:\"tj\",tk:\"tk\",tl:\"tl\",tm:\"tm\",tn:\"tn\",to:\"to\",tp:\"tp\",tr:\"tr\",tt:\"tt\",tv:\"tv\",tw:\"tw\",tz:\"tz\",ua:\"ua\",ug:\"ug\",uk:\"uk\",us:\"us\",uy:\"uy\",uz:\"uz\",va:\"va\",vc:\"vc\",ve:\"ve\",vg:\"vg\",vi:\"vi\",vn:\"vn\",vu:\"vu\",wf:\"wf\",ws:\"ws\",ye:\"ye\",yt:\"yt\",yu:\"yu\",za:\"za\",zm:\"zm\",zr:\"zr\"}};return{v:a,name:n,getParentDomain:e,getDomain:i,isValidDomain:t}}();","name":"lpUnifiedWindow"},{"code":"window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_SMT=lpTag.taglets.lp_SMT||function(){function init(cfg){if(cfg)for(var i=0;i<cfg.length;i++){var val=cfg[i].value;\"string\"==typeof val&&\"\"!==val&&(\"[\"===val.charAt(0)||\"{\"===val.charAt(0))&&(val=\"undefined\"!=typeof JSON&&JSON.parse?JSON.parse(val):eval(\"(\"+val+\")\"));_conf[cfg[i].id]=val}else _info(\"No cfg were given on init\")}function start(){_conf.active=!0;if(lpTag.taglets.lp_monitoringSDK.inspect().conf.baseUrl===lpTag.getDomain(\"ALL\")){_conf.active=!1;_error(\"Monitoring set to inactive! smt domain was not found\")}lpTag.events.trigger(_name,\"MONITORING_STATE\",{active:_conf.active});_issueReq(_TYPES.sp);lpTag.isDom?_issueReq(_TYPES.pl):lpTag.events.bind(\"LPT\",\"DOM_READY\",function(){_issueReq(_TYPES.pl)})}function stop(){clearTimeout(_nexReq);_conf.active=!1}function reinit(e){clearTimeout(_nexReq);init(e)}function isActive(){return _conf.active}function _log(e,n){window.lpTag&&lpTag.log&&lpTag.log(e,n,_name)}function _error(e){_log(e,\"ERROR\")}function _debug(e){_log(e,\"DEBUG\")}function _info(e){_log(e,\"INFO\")}function _onSuccess(e){_info(\"success call made by smt with the following result: \"+e)}function _onError(e){_error(\"error returned to smt callback onError: \"+e)}function _isRespOk(e){return e.status===_STATUS.ok&&!e.error}function _defaultCb(e){_handleConf(e);_triggerEvent();if(_conf.keepAliveFreq&&_conf.active&&(e.reqType===_TYPES.pl||e.reqType===_TYPES.ip)){_nexReq=setTimeout(function(){_issueReq(_TYPES.ip)},1e3*_conf.keepAliveFreq);_debug(\"Next request to be issued in \"+_conf.keepAliveFreq+\"sec\")}if(_isRespOk(e))try{_onSuccess(e)}catch(n){_error(\"Client onSuccess callback returned an error: \"+JSON.stringify(n.message))}else try{_onError(e)}catch(n){_error(\"Client onError callback returned an error: \"+JSON.stringify(n.message))}}function _triggerEvent(){_conf.active||lpTag.events.trigger(_name,\"MONITORING_STATE\",{active:_conf.active})}function _handleConf(e){if(e.smtConf){for(var n in e.smtConf)_conf[n]=e.smtConf[n];delete e.smtConf}}function _issueReq(e){if(_conf.active){lpTag.taglets.lp_monitoringSDK[e](function(n){n.status=_STATUS.ok;n.reqType=e;_defaultCb(n)},function(n){n.status=_STATUS.err;n.reqType=e;_defaultCb(n)});_debug(\"Sending\"+e+\"request\")}else _info(\"Monitoring is set to inactive, not sending any requests\")}var _v=\"2.20.2\",_name=\"lp_SMT\",_TYPES={sp:\"startPage\",pl:\"pageLoaded\",ip:\"inPage\"},_STATUS={err:\"ERROR\",ok:\"OK\"},_conf={keepAliveFreq:10,active:!0},_nexReq;return{v:_v,name:_name,inspect:function(){return _conf},init:init,start:start,reinit:reinit,restart:start,stop:stop,isActive:isActive}}();","name":"lp_SMT"},{"code":"window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.scraper=lpTag.taglets.scraper||function(){function e(e){if(e)for(var n=0;n<e.length;n++)\"object\"==typeof e[n]&&(d[e[n].id]=e[n].value)}function n(){lpTag.taglets.jsonp.issueCall({url:lpTag.protocol+\"//\"+lpTag.csds.getDomain(u.ACCDN)+\"/api/account/\"+lpTag.site+\"/configuration/le-campaigns/zones?fields=id&fields=zoneValue\",callbackName:\"lpZonesStaticCB\",success:function(e){f=e;o()},error:function(){lpTag.log(\"Loading elements list for scraper failed\",\"ERROR\",\"SCRAPER\")}})}function a(){i()}function t(){o()}function l(e){for(var n=0;n<f.length;n++)if(f[n].id===e)return f[n].zoneValue;return null}function r(){return{config:d,zones:f}}function i(){for(var e=0;e<f.length;e++)f[e].scraped=!1}function o(){var e=s();c(e);lpTag.isDom||setTimeout(o,d.scrapeInterval)}function s(){for(var e=[],n=0;n<f.length;n++)if(!f[n].scraped){var a=document.getElementById(f[n].zoneValue);if(null!=a){f[n].scraped=!0;e.push({type:\"pagediv\",divId:f[n].zoneValue})}}return e}function c(e){if(e.length>0){lpTag.log(\"zones: \"+JSON.stringify(e),\"DEBUG\",\"SCRAPER\");lpTag.sdes.send(e,function(){lpTag.log(\"scraper::_send::lpTag.sdes.send success for: \"+e.toString(),\"DEBUG\",\"SCRAPER\")})}}var g=\"0.3.1\",p=\"scraper\",u={ACCDN:\"acCdnDomain\"},f=[],d={scrapeInterval:50};return{v:g,name:p,init:e,start:n,reinit:a,restart:t,getElmId:l,inspect:r}}();","name":"scraper"},{"code":"window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpajax_utils={_name:\"lpajax_utils\",_v:\"0.1\",each:function(e,t,r){if(null!=e){var a=Array.prototype.forEach;if(a&&e.forEach===a)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,o=e.length;o>n;n++)if(n in e&&t.call(r,e[n],n,e)==={})return}else for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&t.call(r,e[l],l,e)==={})return}},extend:function(e){this.each(Array.prototype.slice.call(arguments,1),function(t){for(var r in t)e[r]=t[r]});return e},isEmptyObj:function(e){for(var t in e)return!1;return!0},init:function(){}};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpAjax=lpTag.taglets.lpAjax||function(e){function t(){m=!0}function r(t,r){e.lpTag&&lpTag.log&&lpTag.log(t,r,f)}function a(e,t){if(g[e])r(\"Existing transport: \"+e+\" tried to register\",h.DEBUG);else{g[e]=t;r(\"Added transport: \"+e,h.DEBUG)}}function n(e){m||t();var a=\"unknown\";try{var n=i(e);if(n){n.issueCall(e);return!0}r(\"No Transport found to issueCall\",h.ERROR);c(h.ERROR,e.error,{responseCode:601,error:\"No Transport found to issueCall, request: \"+e.url,body:\"ERROR\"},e.context)}catch(o){n&&n.getName&&(a=n.getName());r(\"Transport - \"+a+\" - unknown exception while issueCall\",h.ERROR);c(h.ERROR,e.error,{responseCode:600,error:\"Transport - \"+a+\" - unknown exception while issueCall: \"+e.url+\" e=\"+o,body:\"ERROR\"},e.context)}}function o(e){m||t();for(var r in e){var a=g[r];a&&a.configure(e[r])}}function l(e){if(e&&\"object\"==typeof e){e.appName=p;e.ts=(new Date).getTime();e.tags&&e.tags.constructor===Array&&e.tags.push({pageId:y});r(e,h.METRICS)}}function i(e){for(var t,r=!1,a=-1,n=0;n<e.transportOrder.length;n++)if(!r){t=u({},e);var o=g[t.transportOrder[n]];if(o&&o.isValidRequest&&o.isValidRequest(t)){r=!0;a=n}}return r?g[t.transportOrder[a]]:null}function s(e,t,r){if(null!=e){var a=Array.prototype.forEach;if(a&&e.forEach===a)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,o=e.length;o>n;n++)if(n in e&&t.call(r,e[n],n,e)==={})return}else for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&t.call(r,e[l],l,e)==={})return}}function u(e){s(Array.prototype.slice.call(arguments,1),function(t){for(var r in t)e[r]=t[r]});return e}function c(e,t,a,n){if(\"function\"==typeof t)try{t.call(n||null,a);t=null}catch(o){r(\"runCallback: Exception in execution of callback, type :\"+e+\" e=[\"+o.message+\"]\",h.ERROR)}else r(\"runCallBack: No callback, of type :\"+e,h.INFO)}var d=\"1.1.3\",f=\"lpAjax\",p=\"lpTransporter\",g={},m=!1,h={ERROR:\"ERROR\",DEBUG:\"DEBUG\",INFO:\"INFO\",METRICS:\"METRICS\"},y=\"lpT\"+Math.floor(1e5*Math.random())+\"_\"+Math.floor(1e6*Math.random());return{getVersion:function(){return d},getName:function(){return f},init:t,publishMetrics:l,issueCall:n,configureTransports:o,addTransport:a}}(window);window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.jsonp=lpTag.taglets.jsonp||function(e){function t(){if(lpTag&&lpTag.taglets&&lpTag.taglets.lpAjax)try{lpTag.taglets.lpAjax.addTransport(W,z)}catch(e){}E()}function r(e){if(e)for(var r in e)D.hasOwnProperty(r)&&e.hasOwnProperty(r)&&(D[r]=e[r]);t()}function a(t){var r=!1;if(M&&t&&t.url){var a=!1;t.callbackName&&\"string\"==typeof t.callbackName&&(Q[t.callbackName]||e[t.callbackName])&&(a=!0);var n;try{n=c(t)}catch(o){k(\"Could not evaluate the length  of the request, e=\"+o,L.ERROR,\"isValidRequest\");r=!1}\"undefined\"!=typeof n&&U>n&&!a&&(r=!0)}return r}function n(e){var t;if(!a(e)){k(\"URL request was too long or static callback name already exists, url: \"+t,L.ERROR,\"issueCall\");T();e&&e.error&&C(L.ERROR,e.error,s(600,\"Transport - JSONP - unable to run request: \"+e.url),e.context);return!1}e=l(e);e.callbackName&&\"string\"==typeof e.callbackName?e.retries=0:e.callbackName=q+i();t=e.url+(e.url.indexOf(\"?\")>-1?\"&\":\"?\")+e.callback+\"=\"+e.callbackName;e.data&&(t+=\"&\"+d(e.data));e.query&&(t+=\"&\"+d(e.query));e.callUrl=t;if(p(e)){I(e);g()}else k(\"URL request was too long and was not sent, url: \"+t,L.ERROR,\"issueCall\");return!0}function o(){var e={};for(var t in D)D.hasOwnProperty(t)&&(e[t]=D[t]);return e}function l(e){if(\"string\"==typeof e){var t=e;e={url:t}}if(!e.url)return!1;e.encoding=e.encoding||D.encoding;e.callback=e.callback||D.callback;e.retries=\"number\"==typeof e.retries?e.retries:D.retries;e.timeout=e.timeout?e.timeout:D.timeout;return e}function i(e){var t,r=99999,a=\"x\";t=e?r+a+r:Math.round(Math.random()*r)+a+Math.round(Math.random()*r);return t}function s(e,t){return{statusCode:e,responseCode:e,error:t,body:\"ERROR\"}}function u(){return\"scr\"+Math.round(999999999*Math.random())+\"_\"+Math.round(999999999*Math.random())}function c(e){var t=H;e.callbackName&&\"string\"==typeof e.callbackName&&(t=e.callbackName.length);return 4+(e.callback||D.callback).length+e.url.length+t+d(e.data).length+d(e.query).length}function d(e){var t=\"\";if(\"string\"==typeof e)t+=e;else{var r=!0;for(var a in e){var n;\"object\"==typeof e[a]?n=f(e[a]):\"function\"!=typeof e[a]&&(n=e[a]);if(\"undefined\"!=typeof n){r||(t+=\"&\");t+=encodeURIComponent(a)+\"=\"+encodeURIComponent(n);r=!1}}}return t}function f(e){var t;if(\"function\"==typeof Array.prototype.toJSON){var r=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(a){Array.prototype.toJSON=r;throw a}Array.prototype.toJSON=r}else t=JSON.stringify(e);return t}function p(t){var r,a=!1,n=new RegExp(/(http{1}s{0,1}?:\\/\\/)([^\\/\\?]+)(\\/?)/gi);r=n.exec(0===t.callUrl.indexOf(\"http\")?t.callUrl:e.location.href);if(r&&r.length>=3&&\"\"!==r[2]){var o=r[2].toLowerCase();t.domainMatch=o;_[o]=_[o]||[];_[o].inFlight=_[o].inFlight||0;_[o].push(t);a=!0;P+=1;k(\"buffered URL: \"+t.callUrl,L.DEBUG,\"lpTag.taglets.jsonp.bufferRequest\")}else k(\"NO MATCH for URL: \"+t.callUrl,L.ERROR,\"lpTag.taglets.jsonp.bufferRequest\");return a}function g(){var e;for(var t in _)if(_.hasOwnProperty(t)){e=_[t];for(var r=!1;!r&&e.inFlight<6&&e.length>0;){var a=e.shift();if(a){k(\"Sent URL: \"+a.callUrl,L.DEBUG,\"lpTag.taglets.jsonp.sendRequests\");a.scriptId=h(a.callUrl,a.encoding,a.callbackName);a.startTime=(new Date).getTime();y(t,a.callbackName,a.timeout);P-=1}else r=!0}}e=null}function m(){clearTimeout(A);A=null;var t=new Date;for(var r in Q)if(Q.hasOwnProperty(r)&&Q[r].launchTime){var a=t-Q[r].launchTime;(Q[r].loadTime||a>Q[r].timeout)&&e[r].apply(null,[s(408,{message:\"Request timed out\",name:\"timeout\"}),!0])}G>0&&(A=setTimeout(m,1e3))}function h(t,r,a){var n=u(),o=document.createElement(\"script\");o.setAttribute(\"type\",\"text/javascript\");o.setAttribute(\"charset\",r);o.onload=function(){Q[a]&&(Q[a].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null};e.addEventListener?o.onerror=function(){Q[a]&&(Q[a].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null}:o.onreadystatechange=function(){if(this.readyState&&(\"loaded\"===this.readyState||\"complete\"===this.readyState)){Q[a]&&(Q[a].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null}};o.setAttribute(\"src\",t);o.setAttribute(\"id\",n);document.getElementsByTagName(\"head\")[0].appendChild(o);A||(A=setTimeout(m,1e3));o=null;return n}function y(e,t,r){_[e].inFlight=_[e].inFlight+1;Q[t]={launchTime:new Date,timeout:r};G+=1;S+=1}function T(){B+=1}function R(e){var t=document.getElementById(e);if(t)try{t.parentNode.removeChild(t);for(var r in t)t.hasOwnProperty(r)&&delete t[r]}catch(a){k(\"error when removing script\",L.ERROR,\"removeScript\")}}function v(e){_[e].inFlight=_[e].inFlight-1;G-=1}function O(e,t,r){N(t.startTime,t.url,r);R(t.scriptId);v(t.domainMatch);x(t.callbackName,r);if(r){if(t.callbackName){t.callbackName=null;delete t.callbackName}w(e,t)}else{F(t);C(\"callback\",t.success,e,t.context);t=null;g()}}function b(){var e;if(lpTag.taglets.lpAjax&&lpTag.taglets.lpAjax.publishMetrics&&V.length>0){e={tags:[{transport:W}],metrics:V};lpTag.taglets.lpAjax.publishMetrics(e);V.length=0}E()}function E(){j&&clearTimeout(j);j=setTimeout(b,D.metricsTimeout)}function N(e,t,r){var a,n;if(e){n=(new Date).getTime();a=n-e;V.push({rd:a,ts:e,url:t,method:\"GET\",statusCode:r?400:200});V.length>=D.metricsCount&&b()}}function w(e,t){J+=1;if(t.retries>0){t.retries=t.retries-1;n(t)}else{F(t);C(L.ERROR,t.error,e||s(408,{id:408,name:\"TIMEOUT\",message:\"Request has timed out on all retries\"}),t.context);t=null;g()}}function F(e){for(var t=[\"callUrl\",\"retries\",\"id\",\"requestTimeout\",\"type\",\"encoding\",\"launchTime\",\"callbackName\",\"domainMatch\",\"startTime\"],r=0;r<t.length;r++)if(e.hasOwnProperty(t[r])){e[t[r]]=null;delete e[t[r]]}}function C(e,t,r,a){if(\"function\"==typeof t)try{t.call(a||null,r);t=null}catch(n){k(\"Exception in execution of callback, type :\"+e+\" e=[\"+n.message+\"]\",L.ERROR,\"runCallback\")}else k(\"No callback, of type :\"+e,L.INFO,\"runCallback\")}function x(t,r){Q[t]=null;delete Q[t];if(r===!0)e[t]=function(){e[t]=null;try{delete e[t]}catch(r){}};else{e[t]=null;try{delete e[t]}catch(a){}}}function I(t){if(Q[t.callbackName]){T();w(s(409,{message:\"This callbackName is already in a pending request and can't be serviced\",id:409,name:\"CONFLICT\"}),t)}else e[t.callbackName]=function(e,r){O(e,t,r)}}function k(t,r,a){if(e.lpTag&&lpTag.log){\"string\"==typeof t&&a&&(t=a+\": \"+t);lpTag.log(t,r,W)}}var A,j,D={callback:\"cb\",encoding:\"UTF-8\",timeout:1e4,retries:2,metricsCount:100,metricsTimeout:6e4},L={ERROR:\"ERROR\",DEBUG:\"DEBUG\",INFO:\"INFO\"},M=!0,U=2083,q=\"lpCb\",_={},S=0,P=0,G=0,B=0,J=0,V=[],Q={},H=i(!0).length,K=\"1.1.7\",W=\"jsonp\",z={init:t,configure:r,issueCall:n,isValidRequest:a,getVersion:function(){return K},getName:function(){return W},getDefaults:o,inspect:function(){return{name:W,version:K,callsMade:S,errorsFound:J,pending:G,buffered:P,refused:B,defaults:o()}}};t();return z}(window);window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.postmessage=lpTag.taglets.postmessage||function(e){function t(e){var t=0===location.protocol.indexOf(\"https\");if(e){if(e.frames){e.frames=e.frames.constructor===Array?e.frames:[e.frames];for(var r=0;r<e.frames.length;r++)g(e.frames[r],t)}if(e.defaults)for(var a in e.defaults)Te.hasOwnProperty(a)&&e.defaults.hasOwnProperty(a)&&(Te[a]=e.defaults[a])}re=!0}function r(){if(lpTag&&lpTag.taglets&&lpTag.taglets.lpAjax)try{lpTag.taglets.lpAjax.addTransport(te,Oe)}catch(e){}}function a(t){var r=!1;if(e.postMessage&&e.JSON&&t&&t.success&&(t.domain&&t.validation||t.url)){t.domain=t.domain||p(t.url);(ae[t.domain]||ue[t.domain])&&(r=!0)}return r}function n(e){var t=!1;if(re&&a(e))if(ae[e.domain])if(ae[e.domain].validated!==ve.PENDING||e.validation){t=L(e);t?v(e.domain):ne[e.callId].timeout=0}else t=O(e.domain,e);else{Y(\"Adding iFrame to DOM - first request: \"+e.domain,fe.INFO,\"issueCall\");t=O(e.domain,e);m(ue[e.domain]);delete ue[e.domain]}else t=D(e.domain,e.error,e.context);return t}function o(e){return e&&ae[e]?{url:ae[e].url,validated:ae[e].validated,requestCount:ae[e].requestCount,defaults:S(ae[e].defaults),started:ae[e].validated===ve.VALIDATED}:{}}function l(){var e={};for(var t in ae)ae.hasOwnProperty(t)&&(e[t]=o(t));return e}function i(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent(\"on\"+t,r)}function s(e,t){return{callId:e,responseType:t.responseType,responseCode:t.responseCode,error:{message:t.message,id:t.responseCode,name:t.name}}}function u(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&e.detachEvent(\"on\"+t,r)}function c(){if(document.body){ce=!0;d()}else setTimeout(c,5)}function d(){for(;de.length>0;)try{de.shift().call(null)}catch(e){Y(\"Unable to execute queued callbacks for window interactive state: \"+e,fe.ERROR,\"_attachPendingIFrames\")}}function f(e){return e+\"_\"+Math.floor(1e5*Math.random())+\"_\"+Math.floor(1e5*Math.random())}function p(e){var t,r=new RegExp(/(http{1}s{0,1}?:\\/\\/)([^\\/\\?]+)(\\/?)/gi),a=null;if(0!==e.indexOf(\"http\"))return location.protocol+\"//\"+location.host;t=r.exec(e);t&&t.length>=3&&\"\"!==t[2]&&(a=t[1].toLowerCase()+t[2].toLowerCase());return a}function g(e,t){var r,a,n=!1;if(!e||!e.url||\"string\"!=typeof e.url){Y(\"iFrame configuration empty or missing url parameter\",fe.ERROR,\"_queueFrame\");return n}r=p(e.url);a=0===e.url.toLowerCase().indexOf(\"https\");if(!(ae[r]||ue[r]||t&&a!==t)){ue[r]=e;n=!0}return n}function m(e){var t=p(e.url);if(ae[t])return b(t,e.callback||e.success,e.context);var r=f(\"fr\");ae[t]={elem:E(r),url:e.url,validated:ve.PENDING,defaults:e.defaults||{},delayLoad:isNaN(e.delayLoad)?0:e.delayLoad,requestCount:0,success:e.callback||e.success,error:e.error,maxReloadRetries:e.maxReloadRetries||3,reloadInterval:1e3*e.reloadInterval||3e4};setTimeout(function(){y(e.url,t)},ae[t].delayLoad);Y(\"iFrame Queued to load \"+t,fe.INFO,\"_addFrame\");return ve.PENDING}function h(e){var t=p(e.url);ue[t]={url:e.url,defaults:e.defaults||{},delayLoad:e.delayLoad,success:e.success,error:e.error,maxReloadRetries:e.maxReloadRetries,reloadInterval:e.reloadInterval/1e3}}function y(e,t){ce?T(e,t):de.push(function(){T(e,t)})}function T(e,t){ae[t].loadCallback=ae[t].loadCallback||R(t);V(ae[t].elem,e);i(ae[t].elem,\"load\",ae[t].loadCallback);ae[t].iFrameOnloadTimeout=setTimeout(ae[t].loadCallback,Re);ae[t].attachTime=(new Date).getTime();document.body.appendChild(ae[t].elem)}function R(e){return function(t){if(ae[e].iFrameOnloadTimeout){clearTimeout(ae[e].iFrameOnloadTimeout);delete ae[e].iFrameOnloadTimeout}ae[e].loadTime=(new Date).getTime()-ae[e].attachTime;F(e,t)}}function v(e){le+=1;se+=1;ae[e].requestCount=ae[e].requestCount+1}function O(e,t){oe[e]=oe[e]||[];oe[e].push(t);return!0}function b(e,t,r){var a=o(e);W(t,r,a);return ae[e].validated}function E(e){var t=document.createElement(\"IFRAME\");t.setAttribute(\"id\",e);t.setAttribute(\"name\",e);t.setAttribute(\"tabindex\",\"-1\");t.setAttribute(\"aria-hidden\",\"true\");t.setAttribute(\"title\",\"\");t.setAttribute(\"role\",\"presentation\");t.style.width=\"0px\";t.style.height=\"0px\";t.style.position=\"absolute\";t.style.top=\"-1000px\";t.style.left=\"-1000px\";return t}function N(e,t,r,a,n,o){var l=!1;if(e&&t&&\"function\"==typeof t){ne[e]={success:t,error:r,progress:a,ctx:n,launchTime:new Date,timeout:isNaN(o)?Te.timeout:o+1e3};l=!0}return l}function w(e){if(ne[e]){ne[e]=null;delete ne[e];return!0}return!1}function F(e,t){Y(\"onLoad validation called \"+e,fe.INFO,\"_validateFrame\");var r=function(t){C(t,e)};t&&t.error?C(t,e):setTimeout(function(){n({domain:e,success:r,error:r,validation:!0,timeout:100,retries:-1,defaults:ae[e].defaults})},10);return!0}function C(e,t){var r,a=ae[t];Y(\"running validation of domain \"+t,fe.INFO,\"_validateFrameCallback\");if(a){ae[t].validated=e&&e.error?ve.FAILED:ve.VALIDATED;r=ae[t].validated===ve.VALIDATED;r?x(t,e):ae[t].reloadObj&&ae[t].reloadObj.retriesLeft>0?k(t):I(t)}a=null;return r}function x(e,t){var r;Y(\"FrameLoaded \"+e,fe.INFO,\"_runFrameValidated\");r=S(he);for(var a in t)t.hasOwnProperty(a)&&(r[a]=t[a]);W(ae[e].success,ae[e].context,r);H(e);A(e,!0)}function I(e){Y(\"iFrame is a teapot \"+e,fe.ERROR,\"_runFrameFailedToLoad\");if(ae[e].error){var t=s(0,ye);t.domain=e;W(ae[e].error,ae[e].context,t)}j(e);A(e,!1)}function k(e){Y(\"Retry loading domain: \"+e,\"info\",\"_runReloadAttempt\");A(e,!1);G(e)}function A(e,t){Y(\"Running buffer queue : \"+e+\" loaded: \"+t,fe.INFO,\"_runQueuedRequests\");if(oe[e]&&oe[e].length>0){do{var r=oe[e].shift();t?n(r):W(r.error,r.context,{responseCode:600,error:\"Transport - postmessage - unable to run request: \"+e,body:\"ERROR\"})}while(oe[e].length>0);oe[e]=null;delete oe[e]}}function j(e){Y(\"Cleaning up failed iFrame: \"+e,fe.INFO,\"_cleanupIFrame\");if(ae[e]){u(ae[e].elem,\"load\",ae[e].loadCallback);ae[e].elem.parentNode.removeChild(ae[e].elem);var t=S(ye);t.domain=e;t.url=ae[e].url;W(ae[e].error,ae[e].context,t);h(ae[e]);ae[e]=null;delete ae[e]}}function D(e,t,r){Y(\"Frame not found for domain: \"+e,fe.ERROR,\"_noFrameFound\");W(t,{responseCode:600,error:\"Transport - postmessage - unable to run request: \"+e,body:\"ERROR\"},r);return!1}function L(e){var t,r=!1;e=U(e);t=S(e);try{t=M(t)}catch(a){Y(\"Error trying to _stringify message\",fe.ERROR,\"sendMessageToFrame\");return!1}Y(\"sending msg to domain \"+e.domain,fe.DEBUG,\"sendMessageToFrame\");var n;isNaN(e.timeout)||isNaN(e.retries)||(n=e.timeout*(e.retries+1)+2e3);N(e.callId,e.success,e.error,e.progress,e.context,n);try{r=q(e.domain,t);$=setTimeout(_,1e3)}catch(a){Y(\"Error trying to send message: \"+a,fe.ERROR,\"sendMessageToFrame\");r=!1}return r}function M(e){var t;if(\"function\"==typeof Array.prototype.toJSON){var r=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(a){Array.prototype.toJSON=r;throw a}Array.prototype.toJSON=r}else t=JSON.stringify(e);return t}function U(t){var r=ae[t.domain]&&ae[t.domain].defaults;t.callId=f(\"call\");t.returnDomain=pe;\"undefined\"==typeof t.timeout&&(t.timeout=r&&r.timeout||Te.timeout);\"undefined\"==typeof t.retries&&(t.retries=r&&\"undefined\"!=typeof r.retries?r.retries:Te.retries);t.progress&&(t.fireProgress=!0);t.headers=t.headers||{};t.headers[\"LP-URL\"]=e.location.href;return t}function q(e,t){var r=!1;try{ae[e].elem.contentWindow.postMessage(t,e);r=!0}catch(a){Y(\"Error trying to send message: \"+a,fe.ERROR,\"_postTheMessage\")}return r}function _(){$&&clearTimeout($);$=null;var e=new Date,t=0,r=[];for(var a in ne)if(ne.hasOwnProperty(a)&&ne[a].launchTime){var n=e-ne[a].launchTime;n>ne[a].timeout?r.push(a):t+=1}if(r.length){Y(\"Checking errors found \"+r.length+\" timeout callbacks to call\",fe.DEBUG,\"_checkForErrors\");for(var o=0;o<r.length;o++)P(s(r[o],me))}t>0&&($=setTimeout(_,1e3));return!0}function S(e){var t=e;try{t=JSON.parse(M(e))}catch(r){}return t}function P(e,t){var r,a=ne[e.callId],n=e.responseType,o=!1;if(e.callId&&ne[e.callId]||e.responseType===ge.reloading||e.responseType===ge.stats)try{switch(n){case ge.completed:r=a.success;o=!0;break;case ge.error:r=a.error;o=!0;ie+=1;break;case ge.progress:r=a.progress;break;case ge.reloading:e=t;r=G;break;case ge.stats:r=Z;e=e.rawData}if(o){w(e.callId);K(e);se=se>=0?0:se-1}r&&\"function\"==typeof r&&W(r,a&&a.ctx||null,e);r=null;a=null}catch(l){Y(\"Error in executing callback: \"+l,fe.ERROR,\"_executeMessageCallback\");return!1}return!0}function G(e){Y(\"Got reload request from \"+e,fe.INFO,\"_handleReload\");ae[e].validated=ve.PENDING;if(!ae[e].reloadObj){Y(\"Creating reloadObj\"+e,fe.DEBUG,\"_handleReload\");ae[e].reloadObj=Q(e)}B(e)}function B(e){Y(\"Reload try for domain \"+e+\" ,retries left \"+ae[e].reloadObj.retriesLeft,fe.INFO,\"_reloadIFrame\");ae[e].reloadObj.retriesLeft=ae[e].reloadObj.retriesLeft-1;ae[e].reloadObj.setLocationTimeout&&clearTimeout(ae[e].reloadObj.setLocationTimeout);if(ae[e].reloadObj.retry)ae[e].reloadObj.setLocationTimeout=setTimeout(J(e),ae[e].reloadInterval);else{ae[e].reloadObj.retry=!0;J(e)()}}function J(e){return function(){ae[e].iFrameOnloadTimeout=setTimeout(function(){F(e,{error:{code:404,message:\"Frame did not trigger load\"}})},Re);V(ae[e].elem,ae[e].url)}}function V(e,t){t+=t.indexOf(\"?\")>0?\"&bust=\":\"?bust=\";t+=(new Date).getTime();t+=\"&loc=\"+location.protocol+\"//\"+location.host;Y(\"Setting iFrame to URL: \"+t,fe.INFO,\"_setIFrameLocation\");e.setAttribute(\"src\",t)}function Q(e){Y(\"Creating reload object \"+e,fe.INFO,\"_createReloadObject\");var t=ae[e].maxReloadRetries;return{retriesLeft:t}}function H(e){Y(\"Cleaning up reload object for this instance\"+e,fe.INFO,\"_cleanUpReloadObject\");if(ae[e].reloadObj){ae[e].reloadObj.setLocationTimeout&&clearTimeout(ae[e].reloadObj.setLocationTimeout);ae[e].reloadObj=null;delete ae[e].reloadObj}}function K(e){for(var t=[\"callId\",\"responseType\"],r=0;r<t.length;r++){e[t[r]]=null;delete e[t[r]]}}function W(e,t,r){if(e&&\"function\"==typeof e)try{e.call(t||null,r)}catch(a){Y(\"Error in executing callback: \"+a,fe.ERROR,\"runCallback\")}}function z(e){var t,r;try{r=e.origin;if(!ae[r])return;t=X(e.data);t.body=X(t.body)}catch(a){t=null;Y(\"Error in handling message from frame:\"+a+\" origin: \"+r,fe.ERROR,\"_handleMessage\")}t&&\"object\"==typeof t&&P(t,r)}function X(e){var t=e;if(\"string\"==typeof e)try{t=JSON.parse(e)}catch(r){Y(\"Error in parsing string: \"+e,fe.DEBUG,\"_parseJSONString\")}return t}function Y(t,r,a){if(e.lpTag&&lpTag.log){\"string\"==typeof t&&a&&(t=a+\": \"+t);lpTag.log(t,r,te)}}function Z(e){if(lpTag.taglets.lpAjax&&lpTag.taglets.lpAjax.publishMetrics){e.tags&&e.tags.constructor===Array&&e.tags.push({transport:te});lpTag.taglets.lpAjax.publishMetrics(e)}}var $,ee=\"1.1.8\",te=\"postmessage\",re=!0,ae={},ne={},oe={},le=0,ie=0,se=0,ue={},ce=!1,de=[],fe={DEBUG:\"DEBUG\",INFO:\"INFO\",ERROR:\"ERROR\"},pe=p(document.location.href),ge={progress:\"progressLoad\",completed:\"completeLoad\",success:\"success\",error:\"errorLoad\",reloading:\"reloading\",stats:\"statData\"},me={responseType:ge.error,responseCode:404,message:\"Request timed out on parent postMessage layer\",name:\"TIMEOUT\"},he={responseType:ge.success,responseCode:200,message:\"iFrame has successfully loaded\",name:\"OK\"},ye={responseType:ge.error,responseCode:418,message:\"This iFrame is a teapot, not very useful for communication but lovely for earl grey\",name:\"TEAPOT\"},Te={timeout:6e4,metricsCount:1e3},Re=1e4,ve={VALIDATED:\"valid\",PENDING:\"pending\",FAILED:\"failed\"};c();i(e,\"message\",z);var Oe={v:ee,name:te,init:r,issueCall:n,isValidRequest:a,getVersion:function(){return ee},getName:function(){return te},configure:t,getFrameData:o,inspect:function(){return{name:te,version:ee,callsMade:le,errorsFound:ie,pending:se,defaults:Te,iFrameList:S(ue),activeFrames:l()}}};r();return Oe}(window);window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpTransporter=lpTag.taglets.lpTransporter||function(){function e(e,t){window.lpTag&&lpTag.log&&lpTag.log(e,t,r)}function t(){for(var t=0;t<n.taglets.length;t++){var r=lpTag.taglets[n.taglets[t]];try{r.init();e(\"Called init on taglet: \"+n.taglets[t],\"DEBUG\")}catch(a){e(\"Error init taglet:\"+n.taglets[t]+\"  e=\"+a,\"ERROR\")}}for(var o=0;t<n.taglets.length;o++){var l=lpTag.taglets[n.taglets[o]];try{\"function\"==typeof l.start&&l.start();e(\"Called start on taglet: \"+n.taglets[o],\"DEBUG\")}catch(a){e(\"Error start taglet: \"+n.taglets[o]+\"e= \"+a,\"ERROR\")}}}var r=\"lpTransporter\",a=\"1.1.0\",n={taglets:[\"lpAjax\",\"lpajax_utils\",\"jsonp\",\"postmessage\"]};return{v:a,name:r,init:t}}();","name":"lpTransporter"},{"code":"window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.jsLoader=lpTag.taglets.jsLoader||function(e){function t(e){var t=[],n=[],a=!1;for(var r in e)if(\"string\"==typeof e[r]||e[r].url)if(e[r].dependency){var l=o(e,e[r].dependency);l.length>0&&(t=t.concat(l))}else\"string\"==typeof e[r]||\"string\"==typeof e[r].url?a=!0:n.push(e[r]);else\"string\"!=typeof e[r]&&n.push(r);return{missingKeys:t,invalidUrls:n,requestValid:0===t.length&&0===n.length&&a}}function n(){lpTag.log(\"JSLoader was initialised\",\"DEBUG\",v)}function a(e){T+=1;var n=\"\";if(e&&e.loadObj){var a=t(e.loadObj);if(a.requestValid){e.startTime=new Date;for(var r in e.loadObj)if(e.loadObj[r]!==!0&&!e.loadObj[r].dependency){n=e.loadObj[r].url||e.loadObj[r];f(n,e.context,i(r,e))}}else j(e.error,e.context||null,a)}}function r(){return{version:S,name:v,errors:m,downloads:E,configsCount:T}}function o(e,t){var n=[];t=t.constructor===Array?t:[t];for(var a=0;a<t.length;a++)e[t[a]]||n.push(t[a]);return n}function l(e,t,n){m+=1;n.loadError=n.loadError||[];n.loadError.push({key:e,url:t});return!0}function d(e,t,n){E+=1;if(\"object\"==typeof t.loadObj[e]){var a=t.loadObj[e];j(n&&a.error?a.error:a.success,a.context||null,n?{error:!0,data:a}:{data:a})}t.loadObj[e]=!0}function c(e){var t=!0;for(var n in e.loadObj)if(e.loadObj.hasOwnProperty(n)&&e.loadObj[n]!==!0){t=!1;break}return t}function i(e,t){return function(n,a){d(e,t,a);a&&l(e,n,t);u(e,t);c(t)&&s(t,!!t.loadError)}}function s(e,t){e.endTime=new Date;setTimeout(function(){j(t?e.error:e.success,e.context,t?e.loadError:e);e=null},10)}function u(e,t){var n;for(var a in t.loadObj)if(\"object\"==typeof t.loadObj[a]){t.loadObj[a].dependency=t.loadObj[a].dependency&&t.loadObj[a].dependency.constructor===Array?t.loadObj[a].dependency:[t.loadObj[a].dependency];n=[];for(var r=0;r<t.loadObj[a].dependency.length;r++)t.loadObj[a].dependency[r]!==e&&n.push(t.loadObj[a].dependency[r]);if(n.length!==t.loadObj[a].dependency.length){t.loadObj[a].dependency=n;0===n.length&&f(t.loadObj[a].url,t.loadObj[a].context,i(a,t))}}}function f(e,t,n){if(w[e])w[e].state===R.LOADING?g(n,w[e].callbackQueue):w[e].state===R.SUCCESS&&j(n,t,[e]);else{w[e]=p(R.LOADING);g(n,w[e].callbackQueue);b(e,{success:function(){w[e].state=R.SUCCESS;O.call(this,e,t,w[e].callbackQueue)},error:function(){w[e].state=R.ERROR;y.call(this,e,t,w[e].callbackQueue)}})}}function p(e,t){return{state:e,callbackQueue:t||[]}}function b(e,t){var n=document.createElement(\"script\");n.setAttribute(\"type\",\"text/javascript\");n.setAttribute(\"charset\",\"UTF-8\");n.onreadystatechange=n.onload=t.success;n.onerror=t.error;n.setAttribute(\"src\",e);(document.head||document.getElementsByTagName(\"head\")[0]).appendChild(n)}function O(t,n,a){var r=!1;this.readyState?e.opera||\"loaded\"!==this.readyState&&\"complete\"!==this.readyState||(r=!0):r=!0;if(r){h(t,n,a,!1);this.onerror=this.onload=this.onreadystatechange=null}}function y(e,t,n){h(e,t,n,!0);this.onerror=this.onload=this.onreadystatechange=null}function g(e,t){t&&-1===t.indexOf(e)&&t.push(e)}function h(e,t,n,a){for(var r;n.length;){r=n.pop();j(r,t,e,a)}}function j(t,n){n=n||e;if(\"function\"==typeof t){var a=Array.prototype.slice.call(arguments,2);try{return t.apply(n,a)}catch(r){lpTag.log(\"Failed to execute callback exc= \"+r.message,\"ERROR\",v)}}}var v=\"jsLoader\",S=\"1.0.1\",E=0,m=0,T=0,R={LOADING:\"LOADING\",SUCCESS:\"SUCCESS\",ERROR:\"ERROR\"},w={};return{v:S,init:n,loadJS:a,validateLoadObj:t,inspect:r}}(window);","name":"jsLoader"},{"code":"!function(){var e,t,n;e=function(){function e(e){return e.lpTag&&e.lpTag.taglets&&e.lpTag.taglets.lp_monitoringSDK}function t(t){var n,i=e(t);i&&(n=i.getSid());if(n)return n;var o=t.lpMTagConfig;o&&o.FPC_SKEY&&(n=o.FPC_SKEY);return n}function n(e){var t,n=e.lpMTagConfig;n&&n.LPSID_VAR&&(t=n.LPSID_VAR);return t}function i(t){var n,i=e(t);i&&(n=i.getVid());if(n)return n;var o=t.lpMTagConfig;o&&o.FPC_VID&&(n=o.FPC_VID);return n}function o(e){var t,n,i=e&&e.lpMTagConfig,o=[\"FPC_SKEY_NAME\",\"FPC_VID_NAME\"];if(i)for(var r=0;r<o.length;r++){t=i[o[r]];if(t){n=t.match(/((qa|P)?[\\d]+)(-[\\w])/);if(n&&n.length>0)return n[1]}}}return{getVisitorId:i,getSessionId:t,getVisitorSessionId:n,getRedirectedSiteId:o}}();!function(e){var t,i=window,o=i.document,r=i.lpTag=i.lpTag||{},s=r.taglets=r.taglets||{};r.isDebug&&i.console&&i.console.log&&(r.log=function(e,t){\"ERROR\"===t?i.console.error(e):i.console.log(e)});s.cobrowse=s.cobrowse||function(){function a(e){R(\"INITIALIZING\");R(\"CONFIG PARAM=\"+e);t=s.lpUtil||s.lp_global_utils;e&&e.constructor===Array?t.convertConfig(e,k):k=e||k;k=D(J,k);k.autoloadApi&&N();u()}function c(){R(\"STARTING\");r.events.trigger(x,\"ready\",s.cobrowse);T()}function l(){R(\"_visitorApiReady()\");U=P(k.namespace,i);U.removeDefaultFlow();f(U);V(B,function(e){e(U)});B=[]}function u(){R(\"_addLpTagListeners()\");V(q,r.events.unbind,r.events);q=[r.events.bind({appName:L,eventName:\"cobrowseOffered\",func:g}),r.events.bind({appName:L,eventName:\"cobrowseAccepted\",func:d}),r.events.bind({appName:L,eventName:\"cobrowseDeclined\",func:v}),r.events.bind({appName:\"lpUnifiedWindow\",eventName:\"state\",func:S})]}function f(e){R(\"_addSynchroniteListeners()\");V(G,function(e){e.remove()});G=[e.on(\"sessionAccepted\",function(){R(\"sessionAccepted\")}),e.on(\"sessionStart\",m)]}function g(t){R(\"_handleOffered \"+(t?JSON.stringify(t):\"no event param\"));j=!1;var n=t.serviceId||t.ssid||e.getSessionId();N(t).then(function(e){t.serviceId=n;e.removeDefaultFlow();e.emit(\"sessionOffered\",t)})}function d(e){if(j)R(\"Chat already ended\");else{e&&(e.context=\"LIVEENGAGE\");p(e)}}function p(t){t.svid=t.svid||e.getVisitorId();t.ssid=t.ssid||e.getSessionId();var n=t.serviceId||t.svid||t.ssid||e.getSessionId();N(t).then(function(e){e.isValidSN(E(),y(),n,function(i){if(i.valid){R(\"_handleAccepted \"+(t?JSON.stringify(t):\"no event param\"));t.channelSegment=t.agentId+\"\";t.serviceId=n;t.visitorAlias=b(t);e.acceptSupportOffer(t,!0)}})})}function v(t){if(j)R(\"Chat already ended\");else{R(\"_handleDeclined \"+(t?JSON.stringify(t):\"no event param\"));var n=t.serviceId||t.svid||t.ssid||e.getSessionId();N(t).then(function(e){var i=JSON.parse(JSON.stringify(t));i.channelSegment=i.agentId+\"\";i.serviceId=n;i.visitorAlias=b(i);e.removeDefaultFlow();e.cancelSupportOffer(i)})}}function m(e){R(\"_handleStart() - \"+JSON.stringify(e));r.events.trigger(x,\"start\",s.cobrowse);var t=i.opener||i.top||i,n=k.cobrowseEngine||\"proxybased\",o=e.sessionUrl;U.visitorInfo.connectedAgentAlias=null;U.visitorInfo.supportId(null);if(\"proxyless\"==n){window.proxylessConfig={ticket:e.ticket,master:!0,sid:e.sid,username:e.visitorName,comet:U.getComet()};O(E(k.tenantId)+\"/js/synchronite/proxyless/run.js?cacheBust=\"+encodeURIComponent(F));U.cometCleanUp&&U.cometCleanUp()}else i.setTimeout(function(){t.location=o},25)}function S(e){R(\"_handleChatState() - \"+JSON.stringify(e));if(\"ended\"==e.state){j=!0;i.proxyless&&i.proxyless.endSession&&i.proxyless.endSession()}}function I(t){var n=e.getVisitorId(),i=b();N().then(function(e){t=t||function(e){R(\"ServiceId set: \"+e)};e.visitorInfo.setFullname(i);e.createServiceId(n,t)})}function h(){var t=e.getVisitorId(),n=b(),i={agentServiceId:t,fullname:n};R(\"_requestCobrowse \"+JSON.stringify(i));N(event).then(function(e){e.requestSupport(i,function(e){R(e?\"REQUESTEDSUPPORT SUCCESS \":\"REQUESTEDSUPPORT FAILED - SERVICE ID UNKNOWN\")})})}function y(){var t=k.site;if(!t){t=e.getRedirectedSiteId(i);if(t)return t;t=i.lpMTagConfig&&i.lpMTagConfig.lpNumber;if(t)return t;t=i.lpTag&&i.lpTag.site;if(t)return t}t||i.lp&&i.lp.urlParams&&i.urlParams.lpnumber&&(t=i.urlParams.lpnumber);return t}function b(e){return e&&e.visitorName?e.visitorName:i.lp&&i.lp.chatApi&&i.lp.chatApi.getVisitorName?i.lp.chatApi.getVisitorName():\"Visitor\"}function N(e){R(\"_loadVisitorApi()\");e=e||{};if(!U){var t=e.siteId||y();k.tenantId=t;k.readyCallback=l;i.synchroniteConfig=k;O(E(t)+\"/js/synchronite/integration.js?cacheBust=\"+encodeURIComponent(F),\"cobrowse-integration\")}return{then:function(e){e&&(U?e(U):B.push(e))}}}function T(){A(function(e){e&&C()})}function C(){O(E(y())+\"/js/synchronite/proxyless/run.js?cacheBust=\"+encodeURIComponent(F))}function A(e){if(i.lpTag&&i.lpTag.taglets&&i.lpTag.taglets.lpSecureStorage){var t=E()+M;try{r.taglets.lpSecureStorage.configure({conf:{url:t,site:y(),initialStorageType:\"sessionStorage\"}})}catch(n){_(\"Error initializing secure storage: \"+n,\"ERROR\")}r.taglets.lpSecureStorage.getValue({site:y(),appName:\"cobrowse\",key:\"s.tid\",domain:t,success:e})}}function w(){var e=\"coBrowse\",t=k.domain;return!t&&i.lpTag&&i.lpTag.csds?i.lpTag.csds.getDomain(e):!t&&i.lp&&i.lp.CSDSList?i.lp.CSDSList[e]:t}function E(e,t){e=e||y();t=t||w();return\"https://\"+e+\".\"+t}function _(e,t){i.lpTag&&i.lpTag.log&&i.lpTag.log(e,t,x+\" taglet\")}function R(e){_(e,\"INFO\")}function O(e,t){if(!t||!o.getElementById(t)){var n=o.createElement(\"script\");n.setAttribute(\"type\",\"text/javascript\");n.setAttribute(\"charset\",\"UTF-8\");n.setAttribute(\"src\",e);t&&n.setAttribute(\"id\",t);var i=o.body||o.getElementsByTagName(\"body\")[0];i.appendChild(n)}}function V(e,t,n){var i=0,o=e&&e.length||0;o&&\"string\"==typeof e&&(e=e.split(\"\"));if(n)for(;o>i;++i)t.call(n,e[i],i,e);else for(;o>i;++i)t(e[i],i,e)}function D(e,t){if(!e||!t)return e;for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function P(e,t){t=t||i;\"string\"==typeof e&&(e=e.split(\".\"));var o=t;if(e&&e.length)for(var r=0;r<e.length;r++){if(\"undefined\"==typeof o[e[r]])return n;o=o[e[r]]}return o}var U,F=\"2.1.0.53\",x=\"cobrowse\",L=\"lpUnifiedWindow\",M=\"/js/synchronite/webagent/libs/lpSecureStorage/storage.min.html\",j=!1,J={debugEvents:!1,autoloadApi:!1,namespace:\"lpTag.cobrowse.visitorApi\",cobrowseEngine:\"proxyless\",chatEnabled:!1,skipVisitorConfirmation:!0,visitorNameRequired:!1,checkAgentAvailability:!1,customFlow:!0,realtimeTracking:!1},k={},B=[],q=[],G=[];return{v:F,name:x,init:a,start:c,config:k,loadApi:function(e){N().then(e)},includes:[{name:\"lp_global_utils\"},{name:\"lpSecureStorage\"}],inspect:function(){return{_setServiceId:I,_requestCobrowse:h,config:k}},accept:function(e){p(e)},testEvent:function(t){i.lpTag.events.trigger(L,t,{svid:e.getVisitorId(),visitorName:b()})}}}()}(e);t=n;n=n}();","name":"cobrowse"},{"code":"window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_version_detector=function(){function _log(n,e){window.lpTag&&lpTag.log&&lpTag.log(n,e,_name)}function _error(n){_log(n,\"ERROR\")}function _info(n){_log(n,\"INFO\")}function _convertConfig(conf,_config){if(\"undefined\"!=typeof _config){if(conf)for(var i=0;i<conf.length;i++){var val=conf[i].value;if(\"string\"==typeof val&&\"\"!=val)if(\"true\"===val)val=!0;else if(\"false\"===val)val=!1;else if(\"[\"==val.charAt(0)||\"{\"==val.charAt(0))try{val=\"undefined\"!=typeof JSON&&JSON.parse?JSON.parse(val):eval(\"(\"+val+\")\")}catch(e){lpTag.log(\"unable to parse JSON:\"+e,\"ERROR\",_name)}_config[conf[i].id]=val}}else lpTag.log(\"_config is passed as undefined\",\"ERROR\",_name)}function init(n){_convertConfig(n,_conf)}function start(){_conf.sendUDE&&_sendUDE({name:\"lpTagVer\",value:lpTag._v});_conf.sendSDE&&_sendSDE({type:\"lpTagVer\",version:lpTag._v})}function _sendSDE(n){window.lpTag.sdes=window.lpTag.sdes||[];lpTag.sdes.push(n)}function _sendUDE(n){window.lpMTagConfig=window.lpMTagConfig||{};window.lpMTagConfig.pageVar=window.lpMTagConfig.pageVar||[];try{n.value=\"\"+n.value;var e=encodeURIComponent(n.name)+\"=\"+encodeURIComponent(n.value);lpMTagConfig.pageVar.push(e);_info(\"Added variable scope:page name:\"+n.name+\" value:\"+n.value)}catch(a){_error(\"Exception in adding variable e=\"+a)}}var _name=\"lp_version_detector\",_v=\"1.0.1\",_conf={sendSDE:!1,sendUDE:!0};return{getVersion:function(){return _v},getName:function(){return _name},init:init,start:start,inspect:function(){return{conf:_conf}}}}();","name":"lp_version_detector"},{"code":"window.lpTag.taglets.lp_global_utils=function(){function init(){}function convertConfig(conf,_config){if(\"undefined\"!=typeof _config){if(conf)for(var i=0;i<conf.length;i++){var val=conf[i].value;if(\"string\"==typeof val&&\"\"!=val)if(\"true\"===val)val=!0;else if(\"false\"===val)val=!1;else if(\"[\"==val.charAt(0)||\"{\"==val.charAt(0))try{val=\"undefined\"!=typeof JSON&&JSON.parse?JSON.parse(val):eval(\"(\"+val+\")\")}catch(e){lpTag.log(\"unable to parse JSON:\"+e,\"ERROR\",_name)}_config[conf[i].id]=val}}else lpTag.log(\"_config is passed as undefined\",\"ERROR\",_name)}function trim(n){return n.replace(/^\\s+|\\s+$/g,\"\")}var _v=1.3,_name=\"lp_global_utils\";return{v:_v,name:_name,init:init,convertConfig:convertConfig,trim:trim}}();","name":"lp_global_utils"},{"code":"window.lpTag=window.lpTag||{};window.lpTag.taglets=window.lpTag.taglets||{};lpTag.taglets.lpSecureStorage=lpTag.taglets.lpSecureStorage||function(e){function t(){}function n(e){return e&&Ne[e]?Ne[e]:Ne}function o(e){if(e&&e.value){e.value=null;delete e.value}e.type=he.GET;u(e)}function r(e){if(e&&-1===e.expires)a(e);else{e.type=he.SET;u(e)}}function a(e){e&&(e.expires=-1);e.type=he.REMOVE;u(e)}function i(e){e&&e.debug===!0&&(de=!0);for(var t in e)if(\"object\"==typeof e[t]&&e.hasOwnProperty(t)&&e[t].site)if(e[t].url&&0===e[t].url.indexOf(\"http\")){Y(\"Configuring url \"+e[t].url);G(e[t].url,e[t].site,e[t],e[t].chosenStorageHandler)}else e[t].url===ne&&D(e[t])}function u(e){var t=e.domain===ne;if(t)c(e);else{var n=V(e.domain);ke.get(n)?m(e,n):g(e,n)}}function s(){lpTag.storageMethods&&!$&&($=lpTag.storageMethods);return $?$.isSessionStorageEnabled():!1}function c(e){var t,n;if(s()){t=\"\"+e.site+e.key;switch(e.type){case he.GET:A(e.success,l(t,e),e.key);break;case he.SET:p(t,e);A(e.success,e.value,e.key);break;case he.REMOVE:n={error:\"Object not found.\"};d(t,e)&&(n=void 0);A(e.success,n,e.key)}}else A(e.success,{error:\"SessionStorage is not active\",code:500},e.key)}function f(e){var t=$.getSessionData(e);try{t=JSON.parse(t)}catch(n){}return\"\"!==t?t:null}function l(e,t){var n=f(e);t.appName&&null!==n&&\"object\"==typeof n&&(n=n[t.appName]);return\"\"!==n?n:null}function p(e,t){var n=f(e);null===n&&(n={});if(\"object\"==typeof n){n[t.appName]=t.value;return $.setSessionData(e,x(n))}return!1}function d(e,t){var n=!1,o=!1,r=f(e);if(null!==r&&\"object\"==typeof r&&r.hasOwnProperty(t.appName)){r[t.appName]=null;delete r[t.appName];for(var a in r)if(r.hasOwnProperty(a)){o=!0;break}n=!0}return n&&o?$.setSessionData(e,x(r)):n?$.removeSessionData(e):!1}function g(e,t){if(e&&(e.success||e.error)&&e.key&&e.appName&&e.domain&&e.site){delete e.type;if(oe)if(ie[t])if(!Ne[t]||Ne[t]&&!Ne[t].error){X(e);L(e);Y(\"Made request for key: \"+e.key+\" appName: \"+e.appName)}else{A(e.error||e.success,null,e.key);Y(\"No Storage Selected, Blocked request for key: \"+e.key+\" appName: \"+e.appName)}else{G(e.domain,e.site,e.initialStorageType,e.chosenStorageHandler);ue[t].push(e)}else re.push(function(){u(e)})}}function m(e,t){le[t]=\"undefined\"==typeof le[t]?[]:le[t];le[t].push(e)}function y(){var e,t=(new Date).getTime(),n=!1;if(Z){clearTimeout(Z);Z=null}for(var o in se)if(se.hasOwnProperty(o)){e=0;e=t-se[o].startTime;if(e>=me){Q(\"iFrame not responding in time to requests, domain: \"+se[o].domain);R(o,se[o].key,null,!0)}else n=!0}S(n)}function S(e){e&&!Z&&(Z=setTimeout(y,ye))}function v(e,t){ce[e]=t?\"undefined\"==typeof ce[e]?1:ce[e]+1:0;Y(\"Domain \"+e+\" error count: \"+ce[e],\"_manageErrorState\");ce[e]>Se&&J(le[e],e,\"iFrame not responding in time to requests\")}function h(e){if(ie[e]&&ie[e].parentNode){ie[e].parentNode.removeChild(ie[e]);ie[e]=null;delete ie[e];ce[e]=0;Q(\"Removed iFrame for domain\",\"_removeIFrame\")}}function T(){document.body?K():setTimeout(T,0)}function N(e){e&&e.data&&fe[e.origin]&&E(e.data,e.origin)}function O(e){se[e]=null;delete se[e]}function E(e,t){var n,o,r,a=b(e);if(a){n=a.id;o=a.key;if(Ee===o)k(a,t);else{r=\"undefined\"!=typeof a.value?a.value:a.error;R(n,a.key,r,!!a.error);Y(\"Got result for key: \"+a.key+\" appName: \"+a.appName)}}}function k(e,t){Ne[t]=e.value;Y(\"Got storage type: \"+e.value+\" for origin: \"+t+\" appName: \"+e.appName);Oe[t]&&A(Oe[t],e.value)}function R(e,t,n,o){var r,a=w(e);if(a){r=V(a.domain);I(a,n,t,o)}e&&O(e);ke.set(!1,r);v(r,o);le[r]&&le[r].length>0&&u(le[r].shift())}function w(e){return e&&se[e]?se[e]:void 0}function I(e,t,n,o){o?A(e.error,t,n):A(e.success,t,n)}function b(e){try{e=decodeURIComponent(e);e=JSON.parse(e)}catch(t){}return e}function x(e){var t,n;if(\"function\"==typeof Array.prototype.toJSON){n=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(o){Array.prototype.toJSON=n;throw o}Array.prototype.toJSON=n}else t=JSON.stringify(e);return t}function A(e,t,n){if(\"function\"==typeof e)try{e(t,n)}catch(o){}}function C(t,n,o){e.addEventListener?t.addEventListener(n,o,!1):t.attachEvent(\"on\"+n,o)}function D(e){var t={value:\"NONE\"};Oe[ne]=e.chosenStorageHandler;if(s()){ie[ne]=!0;t={value:Te.STATICSESSIONSTORAGE}}k(t,ne)}function G(e,t,n,o){var r,a=V(e);if(!ie[a]&&!ue[a]){Y(\"Attaching iFrame: \"+e+\" domain: \"+a);r=M();fe[a]=!0;r.setAttribute(\"src\",P(e,t,n));ue[a]=[];o&&(Oe[a]=o);oe?F(a,r)():ae.push(F(a,r))}return r}function M(){var e=document.createElement(\"iframe\"),t=e.style,n=\"lpSS_\"+Math.floor(9e10*Math.random()),o={tabIndex:\"-1\",\"aria-hidden\":\"true\",role:\"presentation\",title:\"\",name:n,id:n};t.width=\"0px\";t.height=\"0px\";t.position=\"absolute\";t.top=\"-1000px\";t.left=\"-1000px\";for(var r in o)o.hasOwnProperty(r)&&e.setAttribute(r,o[r]);return e}function F(e,t){return function(){var n=setTimeout(function(){J(ue[e],e,\"unable to load iFrame for key\")},ge);C(t,\"load\",function(){B(t,e,n)});document.body.appendChild(t)}}function J(e,t,n){for(;e.length>0;){var o=e.shift();o.error&&setTimeout(U(o.error,n||{error:n,key:o.key},o.key),0)}h(t)}function U(e,t,n){return function(){A(e,t,n)}}function B(e,t,n){n&&clearTimeout(n);ie[t]=e;Y(\"Frame loaded \"+t+\" running pending request for frame\");if(ue[t]){for(;ue[t].length>0;)u(ue[t].shift());ue[t]=null;delete ue[t]}}function P(e,t,n){var o,r,a;if(e&&\"string\"==typeof e){o=e.lastIndexOf(\"/\");if(o>8)e=e.substr(0,o);else{r=e.indexOf(\"?\");r>0&&(e=e.substr(0,r))}a=0<location.port.length?\":\"+location.port:\"\";e+=\"/\"+(de?\"storage.html\":\"storage.min.html\")+\"?loc=\"+encodeURIComponent(location.protocol+\"//\"+location.hostname+a)+\"&site=\"+encodeURIComponent(t)+(n.initialStorageType?\"&ist=\"+encodeURIComponent(n.initialStorageType):\"\")+(n.force?\"&force=1\":\"\")+(n.asyncStorageMaxRetry?\"&asmr=\"+encodeURIComponent(n.asyncStorageMaxRetry):\"\")}return e}function V(e){var t=new RegExp(/(http{1}s{0,1}?:\\/\\/){0,1}([^\\/\\?]+)(\\/?)/gi),n=t.exec(e),o=null;n&&n.length>=3&&\"\"!==n[2]&&(o=n[1]+n[2].toLowerCase());return o}function j(e){var t={};t.id=e.id;t.key=e.key;t.site=e.site;t.appName=e.appName||\"*\";isNaN(e.expires)||(t.expires=e.expires);if(\"undefined\"!=typeof e.value){t.value=e.value;t.locations=q(e.locations)}return t}function q(e){e=e?e.constructor===Array?e:[e]:[];e.push(document.location.hostname);return e}function L(e){var t,n=V(e.domain);if(ie[n]){e.startTime=(new Date).getTime();t=j(e);ke.set(!0,n);H(t,n);S(!0)}}function H(e,t){ie[t]&&ie[t].contentWindow.postMessage(_(e),t)}function _(e){try{e=x(e);e=encodeURIComponent(e)}catch(t){}return e}function K(){oe=!0;for(;ae.length>0;)try{ae.shift()()}catch(e){}for(;re.length>0;)try{re.shift()()}catch(e){}}function W(){pe++;pe>2e4&&(pe=0);return\"k\"+pe+(new Date).getTime()+parseInt(100*Math.random(),10)}function X(e,t){e.id=t?t:W();\"undefined\"!=typeof e.value&&(e.type=\"set\");se[e.id]=e}function z(t,n){e.lpTag&&lpTag.log&&lpTag.log(t,n,ee)}function Q(e){z(e,ve.ERROR)}function Y(e){z(e,ve.DEBUG)}var Z,$,ee=\"lpSecureStorage\",te=\"1.10.0\",ne=\"STATICSESSIONSTORAGE\",oe=!1,re=[],ae=[],ie={},ue={},se={},ce={},fe={},le={},pe=0,de=!1,ge=7e3,me=5e3,ye=1e3,Se=10,ve={ERROR:\"ERROR\",DEBUG:\"DEBUG\",INFO:\"INFO\"},he={SET:\"set\",GET:\"get\",REMOVE:\"remove\"},Te={LOCALSTORAGE:\"localStorage\",SESSIONSTORAGE:\"sessionStorage\",INDEXEDDB:\"indexedDB\",COOKIE:\"secureSessionCookie\",STATICSESSIONSTORAGE:ne},Ne={},Oe={},Ee=\"SecureStorageClient/storageType\",ke={set:function(e,t){t&&(this[t]=e)},get:function(e){return e?this[e]:void 0}};C(e,\"message\",N);T();return{storageTypes:Te,getStorageType:n,getValue:o,setValue:r,removeValue:a,configure:i,sessionStorageStaticDomain:ne,v:te,name:ee,init:t,inspect:function(){var e={};for(var t in ie)ie.hasOwnProperty(t)&&(e[t]={url:t,storageType:Ne[t]});return{name:ee,version:te,configuredFrames:e}}}}(window);","name":"lpSecureStorage"},{"code":"window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_sdes=lpTag.taglets.lp_sdes||function(){function e(){var e=lpTag.sdes;lpTag.sdes=lpTag.taglets.lp_sdes;if(\"undefined\"!=typeof e&&e.length)for(var n=0;n<e.length;n++)t(e[n])}function t(e){if(\"undefined\"!=typeof e){\"undefined\"==typeof e.length&&(e=[e]);for(var t=0;t<e.length;t++)if(\"object\"==typeof e[t]&&e[t].type){var n=s(e[t].type);if(\"undefined\"!=typeof n){n.push(e[t]);f[e[t].type]=n}else f[e[t].type]=[e[t]];a(\"Added sde type: \"+e[t].type);lpTag.events.trigger(d,\"VAR_ADDED\",e[t])}else g(\"sde: \"+JSON.stringify(e[t])+\" is not an Object\");lpTag.taglets.lp_monitoringSDK.sdes.push(e)}else g(\"Called push with no sde\")}function n(e,n){\"undefined\"!=typeof e&&t(e);p(\"called send with sdes: \"+JSON.stringify(e),\"DEBUG\");return lpTag.taglets.lp_monitoringSDK.send(n)}function s(e){return e?f[e]:f}function l(){f={};a(\"sdes store was reset\")}function i(){l()}function p(e,t){window.lpTag&&lpTag.log&&lpTag.log(e,t,d)}function g(e){p(e,\"ERROR\")}function a(e){p(e,\"INFO\")}var d=\"lp_sdes\",o=\"2.20.1\",f={};return{v:o,name:d,init:e,get:s,push:t,send:n,reset:l,reinit:i,inspect:function(){return{store:s()}}}}();","name":"lp_sdes"},{"code":"window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_monitoringSDK=lpTag.taglets.lp_monitoringSDK||function(){function init(cfg){reset();if(cfg)for(var i=0;i<cfg.length;i++){var val=cfg[i].value;\"string\"==typeof val&&\"\"!==val&&(\"[\"===val.charAt(0)||\"{\"===val.charAt(0))&&(val=\"undefined\"!=typeof JSON&&JSON.parse?JSON.parse(val):eval(\"(\"+val+\")\"));_conf[cfg[i].id]=val}else _info(\"No cfg were given on init\");_conf.useStorage=_conf.useStorage||!cookieMethods.isCookieEnabled();var obj={frames:{url:_conf.protocol+_conf.baseUrl+_conf.frameName}};lpTag.taglets.postmessage.configure(obj)}function startPage(e,t){_info(\"Called startPage onSuccess: \"+e);var n={type:TYPE.startPage,onSuccess:e,onError:t,isSync:!0},o=_getRequestObject(n);if(_startPageSent){n.rid=o.rid;n.result={error:500,message:\"startPage request was already sent once\"};n.status=STATUS.err;_monitoringCb(n)}else _sendInitializingRequest(o);_startPageSent=!0}function pageLoaded(e,t){_debug(\"Called pageLoaded onSucess is: \"+e);var n={type:TYPE.pageLoaded,onSuccess:e,onError:t,isSync:!0},o=_getRequestObject(n);if(_startPageSent&&!_pageLoadedSent)_sendSyncRequest(o);else{n.rid=o.rid;n.result={error:500,message:\"pageLoaded request was already sent once\"};n.status=STATUS.err;_monitoringCb(n)}_pageLoadedSent=!0}function inPage(e,t){_debug(\"Called inPage onSucess is: \"+e);var n={type:TYPE.inPage,onSuccess:e,onError:t,isSync:!0},o=_getRequestObject(n);if(_startPageSent&&_pageLoadedSent)_sendSyncRequest(o);else{n.rid=o.rid;n.result={error:500,message:\"Cannot issue inPage request when startPage and pageLoaded were not sent\"};n.status=STATUS.err;_monitoringCb(n)}}function send(e){_debug(\"Called send, onSuccess: \"+e);var t={type:TYPE.updateContext,onSuccess:e,onError:void 0,isSync:!0};if(_sdes.length>0){var n=_getRequestObject(t);_sendSyncRequest(n);return!0}return!1}function sendAsync(e,t){var n=[];if(\"undefined\"!=typeof t&&t instanceof Array){for(var o=0;o<t.length;o++)\"object\"==typeof t[o]&&t[o].type?n.push(t[o]):_error(\"sendAsync: SDE is not an Object\");var r={type:TYPE.updateContext,onSuccess:e,onError:void 0,data:{sdes:n},isSync:!1},i=_getRequestObject(r);_sendAsyncRequest(i);return!0}return!1}function push(e){_debug(\"Called push with sdes: \"+JSON.stringify(e));if(\"undefined\"!=typeof e&&e instanceof Array)for(var t=0;t<e.length;t++)\"object\"==typeof e[t]&&e[t].type?_sdes.push(e[t]):_error(\"push: SDE when calling is not an Object\")}function getSidPrefix(){var e=getSid();return e?e.substring(0,e.indexOf(\".\")):void 0}function getSid(){return _sid||(_conf.useStorage?storageMethods.getSessionData(\"LPSID-\"+_conf.accountId)||null:_getCookie(\"LPSID-\"+_conf.accountId))}function getVid(){return _vid||(_conf.useStorage?storageMethods.getSessionData(\"LPVID\")||null:_getCookie(\"LPVID\"))}function isTPCEnabled(){return _conf.thirdPartyEnabled}function appendCtx(e,t,n){-1===e.indexOf(\"?\")?e+=\"?\":\"&\"!==e[e.length-1]&&(e+=\"&\");t||(t=\"SVID\");n||(n=\"SSID\");getSid()&&(e+=encodeURIComponent(n)+\"=\"+encodeURIComponent(getSid()));getVid()&&(e+=\"&\"+encodeURIComponent(t)+\"=\"+encodeURIComponent(getVid()));return e}function stringify(e){var t;if(\"function\"==typeof Array.prototype.toJSON){var n=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(o){Array.prototype.toJSON=n;throw o}Array.prototype.toJSON=n}else t=JSON.stringify(e);return t}function reset(){_debug(\"Called reset\");_conf={thirdPartyEnabled:void 0,protocol:lpTag.protocol?lpTag.protocol+\"//\":0===document.location.toString().indexOf(\"https:\")?\"https://\":\"http://\",baseUrl:lpTag.getDomain(\"smt\"),apiPath:\"/api/js\",rdrPath:\"/rdr\",frameName:\"/postmessage/postmessage.min.html\",accountId:lpTag.site||{},rmSession:!1,timeout:5e4,debug:!1,shadow:!1};_sdes=_sdes||[];_pendingSyncRequests=[];_inProgSyncReq=void 0;_cbMap={};_startPageSent=!1;_pageLoadedSent=!1;_initPageFinished=!1;_debugSent=!1;_asyncInProgress=!1;_idCnt=0;_vid=void 0;_sid=void 0;clearTimeout(retryTimeoutId);retryTimeoutId=void 0;retry={count:0,max:6,timeout:10}}function stop(){clearTimeout(retryTimeoutId);retryTimeoutId=void 0}function reinit(e){_debug(\"reinit called\");init(e);_pageID=_genRandId()}function inspect(){return{conf:_conf,retry:retry}}function _log(e,t){window.lpTag&&lpTag.log&&lpTag.log(e,t,\"lp_monitoringSDK\")}function _error(e){_log(e,\"ERROR\")}function _debug(e){_log(e,\"DEBUG\")}function _info(e){_log(e,\"INFO\")}function _getRID(){_idCnt++;return _idCnt}function _genRandId(){return Math.abs(Math.round(9999999999*Math.random()))}function _getTabId(){var e=storageMethods.getSessionData(\"lpTabId\");if(!e){e=_genRandId();storageMethods.setSessionData(\"lpTabId\",e)}return e}function _monitoringCb(e){var t,n=_cbMap[e.rid],o=e.result;o&&o.body&&(o=o.body);if(n){_debug(\"Called _monitoringCb with type= \"+e.type+\" ,result=\"+JSON.stringify(o));_handleConf(o);_setVisitorIdentification();_setLastVisit();lpTag.events.trigger({appName:name,eventName:\"DEBUG_STATUS\",data:{debug:_conf.debug},aSync:!0});lpTag.events.trigger({appName:name,eventName:\"REQUEST_COMPLETE\",data:{type:e.type,status:e.status},aSync:!0});var r=_handleRetry(o,n.req);if(!r){delete o.sdkConf;retry.count=0;_cbMap[e.rid]=null;delete _cbMap[e.rid];t=_isRespOk(o,e.status);_handleCallbacks({success:t,result:o,cbs:n,response:e})}}else _error(\"Failed on _monitoringCb, request id does not exist in map, rid=\"+e.rid)}function _handleCallbacks(e){if(e.success){_handleMsgs(e.result);if(e.cbs.cOnSuccess)try{e.cbs.cOnSuccess(e.result)}catch(t){_error(\"Failed calling client onSuccess, _monitoringCb e=\"+JSON.stringify(t.message))}}else if(e.cbs.cOnError)try{e.cbs.cOnError(e.result)}catch(t){_error(\"Failed calling client onError, _monitoringCb e=\"+JSON.stringify(t.message))}e.response.type===TYPE.startPage?_initPageCb(e.success):e.response.isSync?_genericCb():_asyncRequestCb()}function _handleRetry(e,t){var n=e.sdkConf&&e.sdkConf.retry;if(n){retryTimeoutId&&clearTimeout(retryTimeoutId);isNaN(n.max)||(retry.max=parseInt(n.max,10));isNaN(n.timeout)||(retry.timeout=parseInt(n.timeout,10));if(retry.count<retry.max){_info(\"retrying count=\"+retry.count+\" max=\"+retry.max);retry.count++;retryTimeoutId=setTimeout(function(){t.data.rc=retry.count;_addIdToReq(t);lpTag.taglets.lpAjax.issueCall(t)},1e3*retry.timeout);return!0}_error(\"exceeded max retries: \"+retry.max+\", stopping\")}}function _handleMsgs(e){var t={};if(e.messagesToVisitor&&!_conf.shadow)for(var n=0;n<e.messagesToVisitor.length;n++){t=e.messagesToVisitor[n];try{lpTag.events.trigger(t.destination,t.subject,t.content)}catch(o){_error(\"Failed on _handleMsgs when triggering dest=\"+t.destination+\" ,subject=\"+t.subject+\" ,content= \"+t.content+\" ,e=\"+JSON.stringify(o.message))}}}function _getCookie(e){return cookieMethods.readCookie(e)||null}function _setCookie(e,t,n,o,r){n&&(n=60*n*60*24);cookieMethods.writeSessionCookie(e,t,n,o,r)}function _deleteCookie(e,t,n){_getCookie(e)&&cookieMethods.clearCookie(e,t,n)}function _setVisitorIdentification(){_conf.useStorage?_setIdsInStorage():_setIdsInFPC()}function _setIdsInStorage(){if(_conf.rmVisitor){delete _conf.lpVisitorId;_vid=null;storageMethods.removeSessionData(\"LPVID\")}var e=_conf.lpVisitorId;if(_conf.rmSession){delete _conf.lpSessionId;_sid=null;storageMethods.removeSessionData(\"LPSID-\"+_conf.accountId)}var t=_conf.lpSessionId;if(e){_vid=e;storageMethods.setSessionData(\"LPVID\",e);_conf.lpVisitorId=void 0}if(t){_sid=t;storageMethods.setSessionData(\"LPSID-\"+_conf.accountId,t);_conf.lpSessionId=void 0}}function _setIdsInFPC(){if(_conf.rmVisitor){delete _conf.lpVisitorId;_vid=null;_deleteCookie(\"LPVID\",\"/\",_conf.domain)}var e=_conf.lpVisitorId;if(_conf.rmSession){delete _conf.lpSessionId;_sid=null;_deleteCookie(\"LPSID-\"+_conf.accountId,\"/\",_conf.domain)}var t=_conf.lpSessionId;if(e){_vid=e;_setCookie(\"LPVID\",e,730,\"/\",_conf.domain);_conf.lpVisitorId=void 0}if(t){_sid=t;_setCookie(\"LPSID-\"+_conf.accountId,t,void 0,\"/\",_conf.domain);_conf.lpSessionId=void 0}}function _setLastVisit(){var e=_conf.lpLastVisit;if(e){storageMethods.setPersistentData(\"lpLastVisit-\"+_conf.accountId,e);_conf.lpLastVisit=void 0}}function _handleConf(e){if(e.sdkConf)for(var t in e.sdkConf)_conf[t]=e.sdkConf[t]}function _isRespOk(e,t){return t===STATUS.ok&&!e.error}function _addIdToReq(e){var t=getVid();t&&(e.data.vid=t);var n=getSid();n&&(e.url=_addOrUpdateParamInURL(e.url,\"sid\",n));return e}function _addLastVisitToReq(e){var t;if(e.data.t===TYPE.startPage){t=storageMethods.getPersistentData(\"lpLastVisit-\"+_conf.accountId);t&&(e.data.rvt=t)}}function _addOrUpdateParamInURL(e,t,n){if(e.indexOf(t)>-1){var o=new RegExp(\"([?&])\"+t+\"=.*?(&|$)\",\"i\");return e.replace(o,\"$1\"+encodeURIComponent(t)+\"=\"+encodeURIComponent(n)+\"$2\")}var r=encodeURIComponent(t)+\"=\"+encodeURIComponent(n);e+=e.indexOf(\"?\")===e.length-1?r:e.indexOf(\"?\")>-1&&e.indexOf(\"?\")<e.length?\"&\"+r:\"?\"+r;return e}function _prepareRequest(e){_debug(\"Called _prepareRequest with params: \"+JSON.stringify(e));var t,n;if(e.data)t=e.data.sdes;else{t=_sdes;_sdes=[]}n={rid:e.rid,data:{t:e.type,ts:(new Date).getTime(),pid:_pageID,tid:_tabId},method:\"POST\",encoding:lpTag.charset||\"UTF-8\",transportOrder:[\"jsonp\",\"postmessage\"],success:function(t){e.result=t;e.status=STATUS.ok;_monitoringCb(e)},error:function(t){e.result=t;e.status=STATUS.err;_monitoringCb(e)},url:_conf.protocol+_conf.baseUrl+_conf.apiPath+\"/\"+_conf.accountId+\"?\"};_addIdToReq(n);_addLastVisitToReq(n);if(e.type===TYPE.startPage){n.timeout=_conf.timeout;var o=_collector.title();o&&(n.data.pt=o);var r=_collector.url();r&&(n.data.u=r);var i=_collector.referrer();i&&(n.data.r=i);var s=_collector.section();s&&(n.data.sec=s);lpTag.device&&lpTag.device.family&&(n.data.df=lpTag.device.family());lpTag.device&&lpTag.device.os&&(n.data.os=lpTag.device.os());var a=_collector.emtVisitorId();a&&(n.data.evid=a)}t&&t.length>0&&(n.data.sdes=t);var d=_collector.debug();d&&(n.data.dbg=d);return n}function _sendSyncRequest(e){_pendingSyncRequests.push(e);_processPendingSyncRequests()}function _sendAsyncRequest(e){_info(\"Called _sendAsyncRequest initiating a new async req: \"+JSON.stringify(e));if(_initPageFinished&&!_asyncInProgress){_asyncInProgress=!0;try{lpTag.taglets.lpAjax.issueCall(e)}catch(t){_error(\"Failed on lpAjax.issueCall in _processPendingSyncRequests: e=\"+JSON.stringify(t.message));_callClientCbOnError(e,{error:{code:\"500\",message:\"error while issue request: \"+JSON.stringify(t)}})}}else _callClientCbOnError(e,{error:{code:\"500\",message:\"error while issue request: initialization not completed or onther async running\"}})}function _callClientCbOnError(e,t){if(e.error)try{e.error(t)}catch(n){_error(\"Failed calling client onError _callClientCbOnError e=\"+n)}}function _processPendingSyncRequests(){if(!_inProgSyncReq&&_pendingSyncRequests.length>0&&_initPageFinished){_debug(\"Called _processPendingSyncRequests, initiating a new sync request: \"+_pendingSyncRequests.length+\" inProgress: \"+JSON.stringify(_inProgSyncReq));var e=_pendingSyncRequests.shift();e=_addIdToReq(e);_inProgSyncReq=e;try{lpTag.taglets.lpAjax.issueCall(e)}catch(t){_error(\"Failed on lpAjax.issueCall in _processPendingSyncRequests. e: \"+JSON.stringify(t.message));_callClientCbOnError(e,{error:{code:\"500\",message:\"error while issue request: \"+JSON.stringify(t.message)}})}}else _info(\"Called _processPendingSyncRequests no sync requests to initiate, pending: \"+_pendingSyncRequests.length+\" inProgress: \"+JSON.stringify(_inProgSyncReq))}function _syncRequestFinished(){_debug(\"Called _syncRequestFinished\");_inProgSyncReq=void 0}function _genericCb(){_syncRequestCb()}function _initPageCb(e){_debug(\"Called _initPageCb isSuccess: \"+e);e&&(_initPageFinished=!0);_syncRequestCb()}function _syncRequestCb(){_syncRequestFinished();_processPendingSyncRequests()}function _asyncRequestCb(){_debug(\"Called _asyncRequestCb\");_asyncInProgress=!1}function _sendInitializingRequest(e){_inProgSyncReq=e;try{lpTag.taglets.lpAjax.issueCall(e)}catch(t){_error(\"Failed on lpAjax.issueCall in _sendInitializingRequest. requestId: \"+e.rid+\", e=\"+JSON.stringify(t.message))}}function _getRequestObject(e){e.rid=_getRID();var t=_prepareRequest(e);_cbMap[e.rid]={req:t,cOnSuccess:e.onSuccess,cOnError:e.onError};return t}var v=\"2.20.3\",name=\"lp_monitoringSDK\",storageMethods=lpTag.storageMethods,TYPE={startPage:\"sp\",pageLoaded:\"pl\",inPage:\"ip\",updateContext:\"uc\"},STATUS={err:\"ERROR\",ok:\"OK\"},_sdes=[],_conf,_pendingSyncRequests,_inProgSyncReq,_cbMap={},_pageID=_genRandId(),_tabId=_getTabId(),_startPageSent,_pageLoadedSent,_initPageFinished,_debugSent,_asyncInProgress,_idCnt,_vid,_sid,retryTimeoutId,retry,cookieMethods=lpTag.cookieMethods,_collector={referrer:function(){var e;document.referrer&&document.referrer.length>0&&(e=document.referrer);return e},title:function(){var e;document.title&&document.title.length>0&&(e=document.title);return e},url:function(){var e;lpTag.url?e=lpTag.url:window.location.href&&window.location.href.length>0&&(e=window.location.href);return e},debug:function(){var e=storageMethods.getPersistentData(\"lpDebug-\"+_conf.accountId);if(e&&!_debugSent){_debugSent=!0;return!0}return!1},section:function(){var e=lpTag.section;\"string\"==typeof e&&e.length&&(e=[e]);return e},emtVisitorId:function(){return _getCookie(_conf.accountId+\"-VID\")}};return{v:v,name:name,inspect:inspect,init:init,sdes:{push:push},appendCtx:appendCtx,isTPCEnabled:isTPCEnabled,getVid:getVid,getSid:getSid,getSidPrefix:getSidPrefix,send:send,inPage:inPage,pageLoaded:pageLoaded,startPage:startPage,stop:stop,reset:reset,reinit:reinit,stringify:stringify}}();","name":"lp_monitoringSDK"},{"code":"window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.SMT=lpTag.taglets.SMT||function(){function a(){}var t=\"SMT\",g=\"2.21.0\";return{v:g,name:t,init:a}}();","name":"SMT"}],"site":"48464979"});